(this["webpackJsonpconnect-4-ia"]=this["webpackJsonpconnect-4-ia"]||[]).push([[0],{25:function(e,i,t){},26:function(e,i,t){},40:function(e,i,t){"use strict";t.r(i);var a,o=t(1),s=t.n(o),n=t(18),r=t.n(n),l=(t(25),t(6)),c=(t(26),t(27),t(43)),h=t(41),u=t(44),b=t(20),j=t(45);!function(e){e[e.Minimax=0]="Minimax",e[e.Alfabeta=1]="Alfabeta",e[e.RLAgent=2]="RLAgent"}(a||(a={}));var p,f,g=t(7),d=t(8);!function(e){e[e.Vacio=0]="Vacio",e[e.Rojo=1]="Rojo",e[e.Amarillo=2]="Amarillo"}(p||(p={})),function(e){e[e.SinGanador=0]="SinGanador",e[e.GanadorRojo=1]="GanadorRojo",e[e.GanadorAmarillo=2]="GanadorAmarillo",e[e.Empate=3]="Empate"}(f||(f={}));var m=function(e){switch(e){case p.Rojo:return f.GanadorRojo;case p.Amarillo:return f.GanadorAmarillo;default:return f.SinGanador}},v=function(){function e(){Object(g.a)(this,e),this.posiciones=void 0,this.posiciones=Array(6).fill(void 0).map((function(){return Array(7).fill(p.Vacio)}))}return Object(d.a)(e,[{key:"vaciarTablero",value:function(){this.posiciones=Array(6).fill(void 0).map((function(){return Array(7).fill(p.Vacio)}))}},{key:"calcularResultado",value:function(){for(var e,i=0,t=0;t<this.posiciones.length;t++){e=0;for(var a=0;a<this.posiciones[0].length;a++){var o=this.posiciones[t][a];if(o===e?i++:i=1,4===i&&(o===p.Rojo||o===p.Amarillo))return o===p.Rojo?f.GanadorRojo:f.GanadorAmarillo;e=o}}for(var s=0;s<this.posiciones[0].length;s++){e=0;for(var n=0;n<this.posiciones.length;n++){var r=this.posiciones[n][s];if(r===e?i++:i=1,4===i&&(r===p.Rojo||r===p.Amarillo))return r===p.Rojo?f.GanadorRojo:f.GanadorAmarillo;e=r}}for(var l=3;l<this.posiciones.length+this.posiciones[0].length-4;l++){e=0;for(var c=Math.max(0,l-this.posiciones.length+1);c<Math.min(l+1,this.posiciones[0].length);c++){var h=this.posiciones[l-c][c];if(h===e?i++:i=1,4===i&&(h===p.Rojo||h===p.Amarillo))return h===p.Rojo?f.GanadorRojo:f.GanadorAmarillo;e=h}}for(var u=3;u<this.posiciones.length+this.posiciones[0].length-4;u++){e=0;for(var b=Math.max(0,u-this.posiciones.length+1);b<Math.min(u+1,this.posiciones[0].length);b++){var j=this.posiciones[this.posiciones.length-1-u+b][b];if(j===e?i++:i=1,4===i&&(j===p.Rojo||j===p.Amarillo))return j===p.Rojo?f.GanadorRojo:f.GanadorAmarillo;e=j}}for(var g=0;g<this.posiciones[0].length;g++)if(0===this.posiciones[0][g]||0===this.posiciones[this.posiciones.length-1][g])return f.SinGanador;return f.Empate}},{key:"imprimirTablero",value:function(){for(var e=this.posiciones.length-1;e>=0;e--){for(var i="|",t=0;t<this.posiciones[0].length;t++)i=i.concat("".concat(this.posiciones[e][t].valueOf())).concat("|");console.log(i)}}},{key:"tirarFicha",value:function(e,i){if(e>this.posiciones[0].length)console.error("No existe la columna");else if(this.verificarColumnaLibre(e)){var t=this.posiciones.findIndex((function(i){return i[e]===p.Vacio}));this.posiciones[t][e]=i}else console.error("No se puede colocar aca")}},{key:"verificarColumnaLibre",value:function(e){return e>this.posiciones[0].length?(console.error("No existe la columna"),!1):this.posiciones[this.posiciones.length-1][e]===p.Vacio}}]),e}(),O=function(){function e(i){Object(g.a)(this,e),this.n=void 0,this.tablero=new v,this.lastTablero=new v,this.entrenar=!1,this.jugadorAgente=p.Rojo,this.alpha=.7,this.turnosMaximos=42,this.gameResult=f.SinGanador,this.lookupTable=new Map,this.qRate=.5,this.expansiones=0,this.n=i}return Object(d.a)(e,[{key:"reset",value:function(e){this.tablero=new v,this.lastTablero=new v,this.entrenar=e,this.gameResult=f.SinGanador,this.expansiones=0}},{key:"resetLearning",value:function(){this.lookupTable=new Map}},{key:"calcularR",value:function(e,i){var t=i===p.Rojo?p.Amarillo:p.Rojo;switch(e.calcularResultado()){case m(i):return 1;case m(t):case f.Empate:return 0;default:return this.getProbability(e)}}},{key:"getProbability",value:function(e){this.expansiones++;var i=e.posiciones.toString();return this.lookupTable.has(i)||this.lookupTable.set(i,.5),this.lookupTable.get(i)}},{key:"updateProbability",value:function(e,i,t){var a=this.calcularR(e,t);a+=this.alpha*(i-a);var o=e.toString();this.lookupTable.set(o,a)}},{key:"jugarElitista",value:function(e){for(var i,t,a=[],o=Number.MIN_SAFE_INTEGER,s=0;s<this.tablero.posiciones[0].length;s++)if(this.tablero.posiciones[this.tablero.posiciones.length-1][s]===p.Vacio){for(var n=this.tablero.posiciones.length-1;n>0&&this.tablero.posiciones[n-1][s]===p.Vacio;)n--;this.tablero.posiciones[n][s]=e,(i=this.calcularR(this.tablero,e))>o?(o=i,a=[s]):i===o&&a.push(s),this.tablero.posiciones[n][s]=0}if(1===a.length)t=a[0];else{if(0===a.length)for(var r=0;r<this.tablero.posiciones[0].length;r++)0===this.tablero.posiciones[this.tablero.posiciones.length-1][r]&&a.push(r);t=a[Math.floor(Math.random()*a.length)]}this.entrenar&&this.updateProbability(this.lastTablero,o,e);for(var l=this.tablero.posiciones.length-1;l>0&&this.tablero.posiciones[l-1][t]===p.Vacio;)l--;this.tablero.posiciones[l][t]=e,this.copiarTablero(this.tablero,this.lastTablero)}},{key:"jugarRandom",value:function(e){for(var i=[],t=0;t<this.tablero.posiciones[0].length;t++)this.tablero.posiciones[this.tablero.posiciones.length-1][t]===p.Vacio&&i.push(t);for(var a=i[Math.floor(Math.random()*i.length)],o=this.tablero.posiciones.length-1;o>0&&this.tablero.posiciones[o-1][a]===p.Vacio;)o--;this.tablero.posiciones[o][a]=e,e===this.jugadorAgente&&this.copiarTablero(this.tablero,this.lastTablero)}},{key:"jugarHumano",value:function(e){this.tablero.imprimirTablero();for(var i,a=[],o=0;o<this.tablero.posiciones[0].length;o++)this.tablero.posiciones[this.tablero.posiciones.length-1][o]===p.Vacio&&a.push(o);do{var s=t(14)();console.log(a),i=parseInt(s("Cual es su jugada? ")),console.log(i)}while(!(i in a));for(var n=this.tablero.posiciones.length-1;n>0&&this.tablero.posiciones[n-1][i]===p.Vacio;)n--;this.tablero.posiciones[n][i]=e,e===this.jugadorAgente&&this.copiarTablero(this.tablero,this.lastTablero)}},{key:"copiarTablero",value:function(e,i){for(var t=0;t<e.posiciones.length;t++)for(var a=0;a<e.posiciones[0].length;a++)i.posiciones[t][a]=e.posiciones[t][a]}},{key:"updateAlpha",value:function(e){this.alpha=.5-.49*e/this.n}},{key:"jugarVsRandom",value:function(){var e=this.jugadorAgente,i=e%2+1,t=1,a=this.turnosMaximos;do{if(t===e?Math.random()<=this.qRate||!this.entrenar?this.jugarElitista(e):this.jugarRandom(e):this.jugarRandom(i),this.gameResult=this.tablero.calcularResultado(),this.gameResult>0){this.gameResult!==m(e)&&this.entrenar&&this.updateProbability(this.lastTablero,this.calcularR(this.tablero,e),e);break}t=2-t+1,a--}while(a>0)}},{key:"jugarVsHumano",value:function(){var e=this.jugadorAgente,i=e%2+1,t=1,a=this.turnosMaximos;do{if(t===e?this.jugarRandom(e):this.jugarHumano(i),this.gameResult=this.tablero.calcularResultado(),this.gameResult>0){this.gameResult!==m(e)&&this.entrenar?(this.updateProbability(this.lastTablero,this.calcularR(this.tablero,e),e),console.log("Felicidades! Usted ha ganado.")):this.gameResult===m(e)&&(this.tablero.imprimirTablero(),console.log("Felicidades! Su agente ha ganado."));break}t=2-t+1,a--}while(a>0)}}]),e}();O.Agente=new O(1e4),O.AgenteB=new O(1e4);var x,R=t(0),A=function(e){var i=e.onElegirEstrategia,t=(e.onLimpiarTablero,Object(o.useState)(a.Minimax)),s=Object(l.a)(t,2),n=s[0],r=s[1],c=Object(o.useState)(3),p=Object(l.a)(c,2),f=p[0],g=p[1],d=Object(o.useState)(.5),m=Object(l.a)(d,2),v=m[0],x=m[1],A=Object(o.useState)(1e4),E=Object(l.a)(A,2),N=E[0],S=E[1],M=Object(o.useState)(a.Minimax),V=Object(l.a)(M,2),T=V[0],G=V[1],_=Object(o.useState)(3),I=Object(l.a)(_,2),k=I[0],y=I[1],F=Object(o.useState)(.5),w=Object(l.a)(F,2),C=w[0],L=w[1],B=Object(o.useState)(1e4),P=Object(l.a)(B,2),X=P[0],H=P[1];return Object(o.useEffect)((function(){i({estrategiaA:n,nivelA:f,qRateA:v,estrategiaB:T,nivelB:k,qRateB:C})}),[n,T,f,k,v,C]),Object(R.jsxs)(R.Fragment,{children:[Object(R.jsx)("h1",{children:"Jugador amarillo"}),Object(R.jsxs)(u.a,{children:[Object(R.jsxs)(h.a,{children:[Object(R.jsxs)(b.a,{children:[Object(R.jsx)(h.a,{children:Object(R.jsxs)(u.a.Group,{className:"mb-3",children:[Object(R.jsx)(u.a.Label,{children:"Estrategia"}),Object(R.jsxs)(u.a.Select,{value:n,onChange:function(e){return r(parseInt(e.currentTarget.value))},children:[Object(R.jsx)("option",{value:a.Minimax,children:"Minimax"}),Object(R.jsx)("option",{value:a.Alfabeta,children:"Poda Alfa-beta"}),Object(R.jsx)("option",{value:a.RLAgent,children:"Agente RL"})]})]})}),Object(R.jsx)(h.a,{children:Object(R.jsxs)(u.a.Group,{className:"mb-3",children:[Object(R.jsx)(u.a.Label,{children:"N Entrenamiento (Solo para RL)"}),Object(R.jsx)(u.a.Control,{value:N,type:"number",disabled:n!==a.RLAgent,onChange:function(e){return S(parseInt(e.currentTarget.value))}})]})})]}),Object(R.jsxs)(b.a,{children:[Object(R.jsx)(h.a,{children:Object(R.jsxs)(u.a.Group,{className:"mb-3",children:[Object(R.jsx)(u.a.Label,{children:"Nivel de b\xfasqueda"}),Object(R.jsx)(u.a.Control,{value:f,type:"number",onChange:function(e){return g(parseInt(e.currentTarget.value))}})]})}),Object(R.jsx)(h.a,{children:Object(R.jsxs)(u.a.Group,{className:"mb-3",children:[Object(R.jsx)(u.a.Label,{children:"Q Rate (Solo para RL)"}),Object(R.jsx)(u.a.Control,{value:v,type:"number",max:1,disabled:n!==a.RLAgent,onChange:function(e){return x(parseFloat(e.currentTarget.value))}})]})})]})]}),Object(R.jsx)(h.a,{children:Object(R.jsx)(b.a,{children:Object(R.jsx)(j.a,{variant:"secondary",onClick:function(){O.Agente=new O(N),O.Agente.qRate=v;for(var e=0;e<N;e++)O.Agente.reset(!0),O.Agente.updateAlpha(e),O.Agente.jugarVsRandom()},disabled:n!==a.RLAgent,className:"ms-3",children:"Entrenar RL"})})})]}),Object(R.jsx)("h1",{children:"Jugador rojo"}),Object(R.jsxs)(u.a,{children:[Object(R.jsxs)(h.a,{children:[Object(R.jsxs)(b.a,{children:[Object(R.jsx)(h.a,{children:Object(R.jsxs)(u.a.Group,{className:"mb-3",children:[Object(R.jsx)(u.a.Label,{children:"Estrategia"}),Object(R.jsxs)(u.a.Select,{value:T,onChange:function(e){return G(parseInt(e.currentTarget.value))},children:[Object(R.jsx)("option",{value:a.Minimax,children:"Minimax"}),Object(R.jsx)("option",{value:a.Alfabeta,children:"Poda Alfa-beta"}),Object(R.jsx)("option",{value:a.RLAgent,children:"Agente RL"})]})]})}),Object(R.jsx)(h.a,{children:Object(R.jsxs)(u.a.Group,{className:"mb-3",children:[Object(R.jsx)(u.a.Label,{children:"N Entrenamiento (Solo para RL)"}),Object(R.jsx)(u.a.Control,{value:X,type:"number",disabled:T!==a.RLAgent,onChange:function(e){return H(parseInt(e.currentTarget.value))}})]})})]}),Object(R.jsxs)(b.a,{children:[Object(R.jsx)(h.a,{children:Object(R.jsxs)(u.a.Group,{className:"mb-3",children:[Object(R.jsx)(u.a.Label,{children:"Nivel de b\xfasqueda"}),Object(R.jsx)(u.a.Control,{value:k,type:"number",onChange:function(e){return y(parseInt(e.currentTarget.value))}})]})}),Object(R.jsx)(h.a,{children:Object(R.jsxs)(u.a.Group,{className:"mb-3",children:[Object(R.jsx)(u.a.Label,{children:"Q Rate (Solo para RL)"}),Object(R.jsx)(u.a.Control,{value:C,type:"number",max:1,disabled:T!==a.RLAgent,onChange:function(e){return L(parseFloat(e.currentTarget.value))}})]})})]})]}),Object(R.jsx)(h.a,{children:Object(R.jsx)(b.a,{children:Object(R.jsx)(j.a,{variant:"secondary",onClick:function(){O.AgenteB=new O(X),O.AgenteB.qRate=C;for(var e=0;e<X;e++)O.AgenteB.reset(!0),O.AgenteB.updateAlpha(e),O.AgenteB.jugarVsRandom()},disabled:T!==a.RLAgent,className:"ms-3",children:"Entrenar RL"})})})]})]})},E=t(15);!function(e){e[e.SinSeleccionar=0]="SinSeleccionar",e[e.Humano=1]="Humano",e[e.Estrategia=2]="Estrategia",e[e.CPU=3]="CPU"}(x||(x={}));var N=function(){function e(i){Object(g.a)(this,e),this.n=void 0,this.tablero=new v,this.jugadorAgente=p.Rojo,this.turnosMaximos=42,this.gameResult=f.SinGanador,this.expansiones=0,this.n=i}return Object(d.a)(e,[{key:"reset",value:function(){this.tablero=new v,this.gameResult=f.SinGanador}},{key:"calcularF",value:function(e,i){for(var t=Array(3).fill(0),a=0;a<e.posiciones.length;a++)for(var o=!1,s=0,n=-1,r=0;r<e.posiciones[0].length;r++){var l=e.posiciones[a][r];if(l===n&&l!==p.Vacio)s++;else{if((o||l===p.Vacio)&&s>0)if(l===i){if(s>3)return Number.MAX_SAFE_INTEGER;t[s-1]++}else{if(s>3)return Number.MIN_SAFE_INTEGER;t[s-1]--}o=l===p.Vacio,s=0}n=l}for(var c=0;c<e.posiciones[0].length;c++)for(var h=!1,u=0,b=-1,j=0;j<e.posiciones.length;j++){var f=e.posiciones[j][c];if(f===b&&f!==p.Vacio)u++;else{if((h||f===p.Vacio)&&u>0)if(f===i){if(u>3)return Number.MAX_SAFE_INTEGER;t[u-1]++}else{if(u>3)return Number.MIN_SAFE_INTEGER;t[u-1]--}h=f===p.Vacio,u=0}b=f}for(var g=3;g<e.posiciones.length+e.posiciones[0].length-4;g++)for(var d=!1,m=0,v=-1,O=Math.max(0,g-e.posiciones.length+1);O<Math.min(g+1,e.posiciones[0].length);O++){var x=e.posiciones[g-O][O];if(x===v&&x!==p.Vacio)m++;else{if((d||x===p.Vacio)&&m>0)if(x===i){if(m>3)return Number.MAX_SAFE_INTEGER;t[m-1]++}else{if(m>3)return Number.MIN_SAFE_INTEGER;t[m-1]--}d=x===p.Vacio,m=0}v=x}for(var R=3;R<e.posiciones.length+e.posiciones[0].length-4;R++)for(var A=!1,E=0,N=-1,S=Math.max(0,R-e.posiciones.length+1);S<Math.min(R+1,e.posiciones[0].length);S++){var M=e.posiciones[e.posiciones.length-1-R+S][S];if(M===N&&M!==p.Vacio)E++;else{if((A||M===p.Vacio)&&E>0)if(M===i){if(E>3)return Number.MAX_SAFE_INTEGER;t[E-1]++}else{if(E>3)return Number.MIN_SAFE_INTEGER;t[E-1]--}A=M===p.Vacio,E=0}N=M}var V=[.25,.5,1];return t.reduce((function(e,i,t){return e+i*V[t]}),0)}},{key:"jugarElitista",value:function(e){for(var i=0,t=0,a=[],o=Number.MIN_SAFE_INTEGER,s=0;s<this.tablero.posiciones[0].length;s++)if(this.tablero.posiciones[this.tablero.posiciones.length-1][s]===p.Vacio){for(var n=this.tablero.posiciones.length-1;n>0&&this.tablero.posiciones[n-1][s]===p.Vacio;)n--;this.expansiones++,this.tablero.posiciones[n][s]=e,(i=this.minValue(this.tablero,e,this.n))>o?(o=i,a=[s]):i===o&&a.push(s),this.tablero.posiciones[n][s]=0}if(1===a.length)t=a[0];else{if(0===a.length)for(var r=0;r<this.tablero.posiciones[0].length;r++)0===this.tablero.posiciones[this.tablero.posiciones.length-1][r]&&a.push(r);t=a[Math.floor(Math.random()*a.length)]}for(var l=this.tablero.posiciones.length-1;l>0&&this.tablero.posiciones[l-1][t]===p.Vacio;)l--;this.tablero.posiciones[l][t]=e}},{key:"maxValue",value:function(e,i,t){if(0===t)return this.calcularF(e,i);var a,o=e.calcularResultado();if(o.valueOf()===i.valueOf())return Number.MAX_SAFE_INTEGER;if(o.valueOf()===i%2+1)return Number.MIN_SAFE_INTEGER;for(var s=Number.MIN_SAFE_INTEGER,n=0;n<this.tablero.posiciones[0].length;n++)if(this.tablero.posiciones[this.tablero.posiciones.length-1][n]===p.Vacio){for(var r=this.tablero.posiciones.length-1;r>0&&this.tablero.posiciones[r-1][n]===p.Vacio;)r--;t>1&&this.expansiones++,this.tablero.posiciones[r][n]=i,(a=this.minValue(this.tablero,i,t-1))>s&&(s=a),this.tablero.posiciones[r][n]=p.Vacio}return s}},{key:"minValue",value:function(e,i,t){if(0===t)return this.calcularF(e,i);var a=e.calcularResultado();if(a.valueOf()===i.valueOf())return Number.MAX_SAFE_INTEGER;if(a===i%2+1)return Number.MIN_SAFE_INTEGER;for(var o=0,s=Number.MAX_SAFE_INTEGER,n=0;n<this.tablero.posiciones[0].length;n++)if(this.tablero.posiciones[this.tablero.posiciones.length-1][n]===p.Vacio){for(var r=this.tablero.posiciones.length-1;r>0&&this.tablero.posiciones[r-1][n]===p.Vacio;)r--;t>1&&this.expansiones++,this.tablero.posiciones[r][n]=i%2+1,(o=this.maxValue(this.tablero,i,t-1))<s&&(s=o),this.tablero.posiciones[r][n]=p.Vacio}return s}},{key:"jugarHumano",value:function(e){this.tablero.imprimirTablero();for(var i,a=[],o=0;o<this.tablero.posiciones[0].length;o++)this.tablero.posiciones[this.tablero.posiciones.length-1][o]===p.Vacio&&a.push(o);do{var s=t(14)();console.log(a),i=parseInt(s("Cual es su jugada? "))}while(!(i in a));for(var n=this.tablero.posiciones.length-1;n>0&&this.tablero.posiciones[n-1][i]===p.Vacio;)n--;this.tablero.posiciones[n][i]=e}},{key:"jugarVsHumano",value:function(){var e=this.jugadorAgente,i=e%2+1,t=1,a=this.turnosMaximos;do{if(t===e?this.jugarElitista(e):this.jugarHumano(i),this.gameResult=this.tablero.calcularResultado(),this.gameResult>0){this.gameResult.valueOf()!==e.valueOf()?console.log("Felicidades! Usted ha ganado."):this.gameResult.valueOf()===e.valueOf()&&(this.tablero.imprimirTablero(),console.log("Felicidades! Su agente ha ganado."));break}t=2-t+1,a--}while(a>0)}}]),e}(),S=function(){function e(i){Object(g.a)(this,e),this.n=void 0,this.tablero=new v,this.jugadorAgente=p.Rojo,this.turnosMaximos=42,this.gameResult=f.SinGanador,this.expansiones=0,this.n=i}return Object(d.a)(e,[{key:"reset",value:function(){this.tablero=new v,this.gameResult=f.SinGanador}},{key:"calcularF",value:function(e,i){for(var t=Array(3).fill(0),a=0;a<e.posiciones.length;a++)for(var o=!1,s=0,n=-1,r=0;r<e.posiciones[0].length;r++){var l=e.posiciones[a][r];if(l===n&&l!==p.Vacio)s++;else{if((o||l===p.Vacio)&&s>0)if(l===i){if(s>3)return Number.MAX_SAFE_INTEGER;t[s-1]++}else{if(s>3)return Number.MIN_SAFE_INTEGER;t[s-1]--}o=l===p.Vacio,s=0}n=l}for(var c=0;c<e.posiciones[0].length;c++)for(var h=!1,u=0,b=-1,j=0;j<e.posiciones.length;j++){var f=e.posiciones[j][c];if(f===b&&f!==p.Vacio)u++;else{if((h||f===p.Vacio)&&u>0)if(f===i){if(u>3)return Number.MAX_SAFE_INTEGER;t[u-1]++}else{if(u>3)return Number.MIN_SAFE_INTEGER;t[u-1]--}h=f===p.Vacio,u=0}b=f}for(var g=3;g<e.posiciones.length+e.posiciones[0].length-4;g++)for(var d=!1,m=0,v=-1,O=Math.max(0,g-e.posiciones.length+1);O<Math.min(g+1,e.posiciones[0].length);O++){var x=e.posiciones[g-O][O];if(x===v&&x!==p.Vacio)m++;else{if((d||x===p.Vacio)&&m>0)if(x===i){if(m>3)return Number.MAX_SAFE_INTEGER;t[m-1]++}else{if(m>3)return Number.MIN_SAFE_INTEGER;t[m-1]--}d=x===p.Vacio,m=0}v=x}for(var R=3;R<e.posiciones.length+e.posiciones[0].length-4;R++)for(var A=!1,E=0,N=-1,S=Math.max(0,R-e.posiciones.length+1);S<Math.min(R+1,e.posiciones[0].length);S++){var M=e.posiciones[e.posiciones.length-1-R+S][S];if(M===N&&M!==p.Vacio)E++;else{if((A||M===p.Vacio)&&E>0)if(M===i){if(E>3)return Number.MAX_SAFE_INTEGER;t[E-1]++}else{if(E>3)return Number.MIN_SAFE_INTEGER;t[E-1]--}A=M===p.Vacio,E=0}N=M}var V=[.25,.5,1];return t.reduce((function(e,i,t){return e+i*V[t]}),0)}},{key:"jugarElitista",value:function(e){for(var i=0,t=0,a=[],o=Number.MIN_SAFE_INTEGER,s=0;s<this.tablero.posiciones[0].length;s++)if(this.tablero.posiciones[this.tablero.posiciones.length-1][s]===p.Vacio){for(var n=this.tablero.posiciones.length-1;n>0&&this.tablero.posiciones[n-1][s]===p.Vacio;)n--;this.expansiones++,this.tablero.posiciones[n][s]=e,(i=this.minValue(this.tablero,e,this.n,Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER))>o?(o=i,a=[s]):i===o&&a.push(s),this.tablero.posiciones[n][s]=0}if(1===a.length)t=a[0];else{if(0===a.length)for(var r=0;r<this.tablero.posiciones[0].length;r++)0===this.tablero.posiciones[this.tablero.posiciones.length-1][r]&&a.push(r);t=a[Math.floor(Math.random()*a.length)]}for(var l=this.tablero.posiciones.length-1;l>0&&this.tablero.posiciones[l-1][t]===p.Vacio;)l--;this.tablero.posiciones[l][t]=e}},{key:"maxValue",value:function(e,i,t,a,o){if(0===t)return this.calcularF(e,i);var s,n=e.calcularResultado();if(n.valueOf()===i.valueOf())return Number.MAX_SAFE_INTEGER;if(n.valueOf()===i%2+1)return Number.MIN_SAFE_INTEGER;for(var r=Number.MIN_SAFE_INTEGER,l=0;l<this.tablero.posiciones[0].length;l++)if(this.tablero.posiciones[this.tablero.posiciones.length-1][l]===p.Vacio){for(var c=this.tablero.posiciones.length-1;c>0&&this.tablero.posiciones[c-1][l]===p.Vacio;)c--;if(t>1&&this.expansiones++,this.tablero.posiciones[c][l]=i,(s=this.minValue(this.tablero,i,t-1,a,o))>r&&(r=s),this.tablero.posiciones[c][l]=p.Vacio,r>=o)return r;r>a&&(a=r)}return r}},{key:"minValue",value:function(e,i,t,a,o){if(0===t)return this.calcularF(e,i);var s=e.calcularResultado();if(s.valueOf()===i.valueOf())return Number.MAX_SAFE_INTEGER;if(s===i%2+1)return Number.MIN_SAFE_INTEGER;for(var n=0,r=Number.MAX_SAFE_INTEGER,l=0;l<this.tablero.posiciones[0].length;l++)if(this.tablero.posiciones[this.tablero.posiciones.length-1][l]===p.Vacio){for(var c=this.tablero.posiciones.length-1;c>0&&this.tablero.posiciones[c-1][l]===p.Vacio;)c--;if(t>1&&this.expansiones++,this.tablero.posiciones[c][l]=i%2+1,(n=this.maxValue(this.tablero,i,t-1,a,o))<r&&(r=n),this.tablero.posiciones[c][l]=p.Vacio,r<=a)return r;r<o&&(o=r)}return r}},{key:"jugarHumano",value:function(e){this.tablero.imprimirTablero();for(var i,a=[],o=0;o<this.tablero.posiciones[0].length;o++)this.tablero.posiciones[this.tablero.posiciones.length-1][o]===p.Vacio&&a.push(o);do{var s=t(14)();console.log(a),i=parseInt(s("Cual es su jugada? "))}while(!(i in a));for(var n=this.tablero.posiciones.length-1;n>0&&this.tablero.posiciones[n-1][i]===p.Vacio;)n--;this.tablero.posiciones[n][i]=e}},{key:"jugarVsHumano",value:function(){var e=this.jugadorAgente,i=e%2+1,t=1,a=this.turnosMaximos;do{if(t===e?this.jugarElitista(e):this.jugarHumano(i),this.gameResult=this.tablero.calcularResultado(),this.gameResult>0){this.gameResult.valueOf()!==e.valueOf()?console.log("Felicidades! Usted ha ganado."):this.gameResult.valueOf()===e.valueOf()&&(this.tablero.imprimirTablero(),console.log("Felicidades! Su agente ha ganado."));break}t=2-t+1,a--}while(a>0)}}]),e}(),M=function e(i,t,a,o){Object(g.a)(this,e),this.n=void 0,this.algoritmo=void 0,this.tiempo=void 0,this.nodos_expandidos=void 0,this.n=i,this.algoritmo=t,this.tiempo=a,this.nodos_expandidos=o},V=function(e,i,t,o){var s,n,r=new v;if(r.posiciones=JSON.parse(JSON.stringify(e.posiciones)),o===x.Humano||o===x.Estrategia||t===p.Amarillo)switch(n=i.estrategiaA,i.estrategiaA){case a.Minimax:s=new N(i.nivelA);break;case a.Alfabeta:s=new S(i.nivelA);break;case a.RLAgent:(s=O.Agente).reset(!1);break;default:s=new N(i.nivelA)}else switch(n=i.estrategiaB,i.estrategiaB){case a.Minimax:s=new N(i.nivelB);break;case a.Alfabeta:s=new S(i.nivelB);break;case a.RLAgent:(s=O.AgenteB).reset(!1);break;default:s=new N(i.nivelB)}s.tablero=r;var l=performance.now();s.jugarElitista(t);var c=performance.now(),h=new M(s.n,n,c-l,s.expansiones);return[s.tablero,h]},T=function(e){var i=e.fichaValor;return Object(R.jsx)("div",{className:"Agujero",children:Object(R.jsx)("div",{className:p[i]})})},G=function(e){var i=e.handleClick,t=e.agujeros;return Object(R.jsx)("div",{className:"Columna",onClick:function(){return i()},children:Object(E.a)(Array(t.length)).map((function(e,i){return Object(R.jsx)(T,{fichaValor:t[i]},i)})).reverse()})},_=function(e){var i=e.parametros,t=e.grabarResultado,a=p.Amarillo,s=p.Rojo,n=Object(o.useState)(new v),r=Object(l.a)(n,2),c=r[0],h=r[1],u=Object(o.useState)(p.Rojo),b=Object(l.a)(u,2),j=b[0],g=b[1],d=Object(o.useState)(x.SinSeleccionar),m=Object(l.a)(d,2),O=m[0],A=m[1],N=Object(o.useState)(""),S=Object(l.a)(N,2),M=S[0],T=S[1],_=function(e){A(e),h(new v),g(p.Rojo)},I=Object(E.a)(Array(c.posiciones[0].length)).map((function(e,i){return Object(R.jsx)(G,{handleClick:function(){return function(e){if(c.verificarColumnaLibre(e)&&c.calcularResultado()===f.SinGanador){var i=new v;i.posiciones=JSON.parse(JSON.stringify(c.posiciones)),i.tirarFicha(e,j),h(i),g(j===p.Rojo?p.Amarillo:p.Rojo)}else console.log("Movimiento invalido")}(i)},agujeros:c.posiciones.map((function(e){return e[i]}))},i)})),k=""!==M?"mensajeGanador aparecer":"mensajeGanador";return Object(o.useEffect)((function(){switch(c.calcularResultado()){case f.Empate:T("ninguno");break;case f.GanadorRojo:T("Rojo");break;case f.GanadorAmarillo:T("Amarillo");break;case f.SinGanador:if(O===x.Estrategia&&j===a){var e=V(c,i,j,O),o=Object(l.a)(e,2),n=o[0],r=o[1];h(n),g(s),t(r)}if(O===x.CPU)if(j===a){var u=V(c,i,j,O),b=Object(l.a)(u,2),p=b[0],d=b[1];h(p),g(s),t(d)}else{var m=V(c,i,j,O),v=Object(l.a)(m,2),R=v[0],A=v[1];h(R),g(a),t(A)}}}),[j,c]),Object(R.jsxs)("div",{className:"TableroGrafico",children:[O!==x.SinSeleccionar&&Object(R.jsx)("div",{className:"Tablero",children:I}),O===x.SinSeleccionar&&Object(R.jsxs)("div",{children:[Object(R.jsx)("button",{className:"btn btn-primary mx-3",onClick:function(){return _(x.Humano)},children:"Jugar Humano"}),Object(R.jsx)("button",{className:"btn btn-primary mx-3",onClick:function(){return _(x.Estrategia)},children:"Jugar Estrategia"}),Object(R.jsx)("button",{className:"btn btn-primary mx-3",onClick:function(){return _(x.CPU)},children:"Estrategia contra Estrategia"})]}),Object(R.jsxs)("div",{className:k,children:["Gana ",M,"!"]})]})},I=function e(){Object(g.a)(this,e),this.estrategiaA=a.Minimax,this.nivelA=3,this.qRateA=.5,this.estrategiaB=a.Minimax,this.nivelB=3,this.qRateB=.5},k=t(42),y=function(e){var i=e.resultados;return Object(R.jsxs)(k.a,{striped:!0,bordered:!0,hover:!0,variant:"dark",children:[Object(R.jsx)("thead",{children:Object(R.jsxs)("tr",{children:[Object(R.jsx)("th",{children:"N\xba Jugada"}),Object(R.jsx)("th",{children:"N"}),Object(R.jsx)("th",{children:"Algoritmo"}),Object(R.jsx)("th",{children:"Tiempo de Ejecuci\xf3n (ms)"}),Object(R.jsx)("th",{children:"Nodos Expandidos"})]})}),Object(R.jsx)("tbody",{children:i.map((function(e,i){return Object(R.jsxs)("tr",{children:[Object(R.jsx)("td",{children:i+1}),Object(R.jsx)("td",{children:e.n}),Object(R.jsx)("td",{children:a[e.algoritmo]}),Object(R.jsx)("td",{children:e.tiempo}),Object(R.jsx)("td",{children:e.nodos_expandidos})]},i)}))})]})},F=["Minimax","RLAgent","Banana"];var w=function(){var e=Object(o.useState)(new I),i=Object(l.a)(e,2),t=i[0],a=i[1],s=Object(o.useState)([]),n=Object(l.a)(s,2),r=n[0],u=n[1];return Object(R.jsx)("div",{className:"App p-3",children:Object(R.jsxs)(c.a,{children:[Object(R.jsx)("h3",{className:"text-start h2 mb-3",children:"Connect-4"}),Object(R.jsx)("hr",{}),Object(R.jsx)("h4",{children:"Par\xe1metros del problema"}),Object(R.jsx)(h.a,{className:"mt-3",children:Object(R.jsx)(A,{onElegirEstrategia:function(e){a(e)},onLimpiarTablero:function(){},algoritmos:F})}),Object(R.jsx)("hr",{}),Object(R.jsx)("h4",{children:"Tablero"}),Object(R.jsx)(h.a,{className:"mt-3",children:Object(R.jsx)(_,{parametros:t,grabarResultado:function(e){u((function(i){var t=JSON.parse(JSON.stringify(i));return t.push(e),t}))}})}),Object(R.jsx)("hr",{}),Object(R.jsx)("h4",{children:"Resultados"}),Object(R.jsx)(h.a,{className:"mt-3",children:Object(R.jsx)(y,{resultados:r})})]})})},C=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,46)).then((function(i){var t=i.getCLS,a=i.getFID,o=i.getFCP,s=i.getLCP,n=i.getTTFB;t(e),a(e),o(e),s(e),n(e)}))};r.a.render(Object(R.jsx)(s.a.StrictMode,{children:Object(R.jsx)(w,{})}),document.getElementById("root")),C()}},[[40,1,2]]]);
//# sourceMappingURL=main.5c03e79b.chunk.js.map