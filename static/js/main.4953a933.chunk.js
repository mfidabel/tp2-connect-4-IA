(this["webpackJsonpconnect-4-ia"]=this["webpackJsonpconnect-4-ia"]||[]).push([[0],{25:function(e,i,t){},26:function(e,i,t){},40:function(e,i,t){"use strict";t.r(i);var o,a=t(1),s=t.n(a),n=t(18),r=t.n(n),l=(t(25),t(6)),c=(t(26),t(27),t(43)),h=t(41),u=t(44),b=t(20),p=t(45);!function(e){e[e.Minimax=0]="Minimax",e[e.Alfabeta=1]="Alfabeta",e[e.RLAgent=2]="RLAgent"}(o||(o={}));var f,g,j=t(7),d=t(8);!function(e){e[e.Vacio=0]="Vacio",e[e.Rojo=1]="Rojo",e[e.Amarillo=2]="Amarillo"}(f||(f={})),function(e){e[e.SinGanador=0]="SinGanador",e[e.GanadorRojo=1]="GanadorRojo",e[e.GanadorAmarillo=2]="GanadorAmarillo",e[e.Empate=3]="Empate"}(g||(g={}));var m=function(e){switch(e){case f.Rojo:return g.GanadorRojo;case f.Amarillo:return g.GanadorAmarillo;default:return g.SinGanador}},v=function(){function e(){Object(j.a)(this,e),this.posiciones=void 0,this.posiciones=Array(6).fill(void 0).map((function(){return Array(7).fill(f.Vacio)}))}return Object(d.a)(e,[{key:"vaciarTablero",value:function(){this.posiciones=Array(6).fill(void 0).map((function(){return Array(7).fill(f.Vacio)}))}},{key:"calcularResultado",value:function(){for(var e,i=0,t=0;t<this.posiciones.length;t++){e=0;for(var o=0;o<this.posiciones[0].length;o++){var a=this.posiciones[t][o];if(a===e?i++:i=1,4===i&&(a===f.Rojo||a===f.Amarillo))return a===f.Rojo?g.GanadorRojo:g.GanadorAmarillo;e=a}}for(var s=0;s<this.posiciones[0].length;s++){e=0;for(var n=0;n<this.posiciones.length;n++){var r=this.posiciones[n][s];if(r===e?i++:i=1,4===i&&(r===f.Rojo||r===f.Amarillo))return r===f.Rojo?g.GanadorRojo:g.GanadorAmarillo;e=r}}for(var l=3;l<this.posiciones.length+this.posiciones[0].length-4;l++){e=0;for(var c=Math.max(0,l-this.posiciones.length+1);c<Math.min(l+1,this.posiciones[0].length);c++){var h=this.posiciones[l-c][c];if(h===e?i++:i=1,4===i&&(h===f.Rojo||h===f.Amarillo))return h===f.Rojo?g.GanadorRojo:g.GanadorAmarillo;e=h}}for(var u=3;u<this.posiciones.length+this.posiciones[0].length-4;u++){e=0;for(var b=Math.max(0,u-this.posiciones.length+1);b<Math.min(u+1,this.posiciones[0].length);b++){var p=this.posiciones[this.posiciones.length-1-u+b][b];if(p===e?i++:i=1,4===i&&(p===f.Rojo||p===f.Amarillo))return p===f.Rojo?g.GanadorRojo:g.GanadorAmarillo;e=p}}for(var j=0;j<this.posiciones[0].length;j++)if(0===this.posiciones[0][j]||0===this.posiciones[this.posiciones.length-1][j])return g.SinGanador;return g.Empate}},{key:"imprimirTablero",value:function(){for(var e=this.posiciones.length-1;e>=0;e--){for(var i="|",t=0;t<this.posiciones[0].length;t++)i=i.concat("".concat(this.posiciones[e][t].valueOf())).concat("|");console.log(i)}}},{key:"tirarFicha",value:function(e,i){if(e>this.posiciones[0].length)console.error("No existe la columna");else if(this.verificarColumnaLibre(e)){var t=this.posiciones.findIndex((function(i){return i[e]===f.Vacio}));this.posiciones[t][e]=i}else console.error("No se puede colocar aca")}},{key:"verificarColumnaLibre",value:function(e){return e>this.posiciones[0].length?(console.error("No existe la columna"),!1):this.posiciones[this.posiciones.length-1][e]===f.Vacio}}]),e}(),E=function(){function e(i){Object(j.a)(this,e),this.n=void 0,this.tablero=new v,this.lastTablero=new v,this.entrenar=!1,this.jugadorAgente=f.Rojo,this.alpha=.7,this.turnosMaximos=42,this.gameResult=g.SinGanador,this.lookupTable=new Map,this.qRate=.5,this.expansiones=0,this.n=i}return Object(d.a)(e,[{key:"reset",value:function(e){this.tablero=new v,this.lastTablero=new v,this.entrenar=e,this.gameResult=g.SinGanador,this.expansiones=0}},{key:"resetLearning",value:function(){this.lookupTable=new Map}},{key:"calcularR",value:function(e,i){var t=i===f.Rojo?f.Amarillo:f.Rojo;switch(e.calcularResultado()){case m(i):return 1;case m(t):case g.Empate:return 0;default:return this.getProbability(e)}}},{key:"getProbability",value:function(e){this.expansiones++;var i=e.posiciones.toString();return this.lookupTable.has(i)||this.lookupTable.set(i,.5),this.lookupTable.get(i)}},{key:"updateProbability",value:function(e,i,t){var o=this.calcularR(e,t);o+=this.alpha*(i-o);var a=e.toString();this.lookupTable.set(a,o)}},{key:"jugarElitista",value:function(e){for(var i,t,o=[],a=Number.MIN_SAFE_INTEGER,s=0;s<this.tablero.posiciones[0].length;s++)if(this.tablero.posiciones[this.tablero.posiciones.length-1][s]===f.Vacio){for(var n=this.tablero.posiciones.length-1;n>0&&this.tablero.posiciones[n-1][s]===f.Vacio;)n--;this.tablero.posiciones[n][s]=e,(i=this.calcularR(this.tablero,e))>a?(a=i,o=[s]):i===a&&o.push(s),this.tablero.posiciones[n][s]=0}if(1===o.length)t=o[0];else{if(0===o.length)for(var r=0;r<this.tablero.posiciones[0].length;r++)0===this.tablero.posiciones[this.tablero.posiciones.length-1][r]&&o.push(r);t=o[Math.floor(Math.random()*o.length)]}this.entrenar&&this.updateProbability(this.lastTablero,a,e);for(var l=this.tablero.posiciones.length-1;l>0&&this.tablero.posiciones[l-1][t]===f.Vacio;)l--;this.tablero.posiciones[l][t]=e,this.copiarTablero(this.tablero,this.lastTablero)}},{key:"jugarRandom",value:function(e){for(var i=[],t=0;t<this.tablero.posiciones[0].length;t++)this.tablero.posiciones[this.tablero.posiciones.length-1][t]===f.Vacio&&i.push(t);for(var o=i[Math.floor(Math.random()*i.length)],a=this.tablero.posiciones.length-1;a>0&&this.tablero.posiciones[a-1][o]===f.Vacio;)a--;this.tablero.posiciones[a][o]=e,e===this.jugadorAgente&&this.copiarTablero(this.tablero,this.lastTablero)}},{key:"jugarHumano",value:function(e){this.tablero.imprimirTablero();for(var i,o=[],a=0;a<this.tablero.posiciones[0].length;a++)this.tablero.posiciones[this.tablero.posiciones.length-1][a]===f.Vacio&&o.push(a);do{var s=t(14)();console.log(o),i=parseInt(s("Cual es su jugada? ")),console.log(i)}while(!(i in o));for(var n=this.tablero.posiciones.length-1;n>0&&this.tablero.posiciones[n-1][i]===f.Vacio;)n--;this.tablero.posiciones[n][i]=e,e===this.jugadorAgente&&this.copiarTablero(this.tablero,this.lastTablero)}},{key:"copiarTablero",value:function(e,i){for(var t=0;t<e.posiciones.length;t++)for(var o=0;o<e.posiciones[0].length;o++)i.posiciones[t][o]=e.posiciones[t][o]}},{key:"updateAlpha",value:function(e){this.alpha=.5-.49*e/this.n}},{key:"jugarVsRandom",value:function(){var e=this.jugadorAgente,i=e%2+1,t=1,o=this.turnosMaximos;do{if(t===e?Math.random()<=this.qRate||!this.entrenar?this.jugarElitista(e):this.jugarRandom(e):this.jugarRandom(i),this.gameResult=this.tablero.calcularResultado(),this.gameResult>0){this.gameResult!==m(e)&&this.entrenar&&this.updateProbability(this.lastTablero,this.calcularR(this.tablero,e),e);break}t=2-t+1,o--}while(o>0)}},{key:"jugarVsHumano",value:function(){var e=this.jugadorAgente,i=e%2+1,t=1,o=this.turnosMaximos;do{if(t===e?this.jugarRandom(e):this.jugarHumano(i),this.gameResult=this.tablero.calcularResultado(),this.gameResult>0){this.gameResult!==m(e)&&this.entrenar?(this.updateProbability(this.lastTablero,this.calcularR(this.tablero,e),e),console.log("Felicidades! Usted ha ganado.")):this.gameResult===m(e)&&(this.tablero.imprimirTablero(),console.log("Felicidades! Su agente ha ganado."));break}t=2-t+1,o--}while(o>0)}}]),e}();E.Agente=new E(1e4);var O,R=t(0),x=function(e){var i=e.onElegirEstrategia,t=(e.onLimpiarTablero,Object(a.useState)(o.Minimax)),s=Object(l.a)(t,2),n=s[0],r=s[1],c=Object(a.useState)(3),f=Object(l.a)(c,2),g=f[0],j=f[1],d=Object(a.useState)(.5),m=Object(l.a)(d,2),v=m[0],O=m[1],x=Object(a.useState)(1e4),N=Object(l.a)(x,2),A=N[0],S=N[1];return Object(R.jsxs)(u.a,{children:[Object(R.jsxs)(h.a,{children:[Object(R.jsxs)(b.a,{children:[Object(R.jsx)(h.a,{children:Object(R.jsxs)(u.a.Group,{className:"mb-3",children:[Object(R.jsx)(u.a.Label,{children:"Estrategia"}),Object(R.jsxs)(u.a.Select,{value:n,onChange:function(e){return r(parseInt(e.currentTarget.value))},children:[Object(R.jsx)("option",{value:o.Minimax,children:"Minimax"}),Object(R.jsx)("option",{value:o.Alfabeta,children:"Poda Alfa-beta"}),Object(R.jsx)("option",{value:o.RLAgent,children:"Agente RL"})]})]})}),Object(R.jsx)(h.a,{children:Object(R.jsxs)(u.a.Group,{className:"mb-3",children:[Object(R.jsx)(u.a.Label,{children:"N Entrenamiento (Solo para RL)"}),Object(R.jsx)(u.a.Control,{value:A,type:"number",disabled:n!==o.RLAgent,onChange:function(e){return S(parseInt(e.currentTarget.value))}})]})})]}),Object(R.jsxs)(b.a,{children:[Object(R.jsx)(h.a,{children:Object(R.jsxs)(u.a.Group,{className:"mb-3",children:[Object(R.jsx)(u.a.Label,{children:"Nivel de b\xfasqueda"}),Object(R.jsx)(u.a.Control,{value:g,type:"number",onChange:function(e){return j(parseInt(e.currentTarget.value))}})]})}),Object(R.jsx)(h.a,{children:Object(R.jsxs)(u.a.Group,{className:"mb-3",children:[Object(R.jsx)(u.a.Label,{children:"Q Rate (Solo para RL)"}),Object(R.jsx)(u.a.Control,{value:v,type:"number",max:1,disabled:n!==o.RLAgent,onChange:function(e){return O(parseFloat(e.currentTarget.value))}})]})})]})]}),Object(R.jsx)(h.a,{children:Object(R.jsxs)(b.a,{children:[Object(R.jsx)(p.a,{variant:"primary",onClick:function(){i({estrategia:n,nivel:g,qRate:v})},children:"Elegir Estrategia"}),Object(R.jsx)(p.a,{variant:"secondary",onClick:function(){E.Agente=new E(A),E.Agente.qRate=v;for(var e=0;e<A;e++)E.Agente.reset(!0),E.Agente.updateAlpha(e),E.Agente.jugarVsRandom()},disabled:n!==o.RLAgent,className:"ms-3",children:"Entrenar RL"})]})})]})},N=t(15);!function(e){e[e.SinSeleccionar=0]="SinSeleccionar",e[e.Humano=1]="Humano",e[e.Estrategia=2]="Estrategia"}(O||(O={}));var A=function(){function e(i){Object(j.a)(this,e),this.n=void 0,this.tablero=new v,this.jugadorAgente=f.Rojo,this.turnosMaximos=42,this.gameResult=g.SinGanador,this.expansiones=0,this.n=i}return Object(d.a)(e,[{key:"reset",value:function(){this.tablero=new v,this.gameResult=g.SinGanador}},{key:"calcularF",value:function(e,i){for(var t=Array(3).fill(0),o=0;o<e.posiciones.length;o++)for(var a=!1,s=0,n=-1,r=0;r<e.posiciones[0].length;r++){var l=e.posiciones[o][r];if(l===n&&l!==f.Vacio)s++;else{if((a||l===f.Vacio)&&s>0)if(l===i){if(s>3)return Number.MAX_SAFE_INTEGER;t[s-1]++}else{if(s>3)return Number.MIN_SAFE_INTEGER;t[s-1]--}a=l===f.Vacio,s=0}n=l}for(var c=0;c<e.posiciones[0].length;c++)for(var h=!1,u=0,b=-1,p=0;p<e.posiciones.length;p++){var g=e.posiciones[p][c];if(g===b&&g!==f.Vacio)u++;else{if((h||g===f.Vacio)&&u>0)if(g===i){if(u>3)return Number.MAX_SAFE_INTEGER;t[u-1]++}else{if(u>3)return Number.MIN_SAFE_INTEGER;t[u-1]--}h=g===f.Vacio,u=0}b=g}for(var j=3;j<e.posiciones.length+e.posiciones[0].length-4;j++)for(var d=!1,m=0,v=-1,E=Math.max(0,j-e.posiciones.length+1);E<Math.min(j+1,e.posiciones[0].length);E++){var O=e.posiciones[j-E][E];if(O===v&&O!==f.Vacio)m++;else{if((d||O===f.Vacio)&&m>0)if(O===i){if(m>3)return Number.MAX_SAFE_INTEGER;t[m-1]++}else{if(m>3)return Number.MIN_SAFE_INTEGER;t[m-1]--}d=O===f.Vacio,m=0}v=O}for(var R=3;R<e.posiciones.length+e.posiciones[0].length-4;R++)for(var x=!1,N=0,A=-1,S=Math.max(0,R-e.posiciones.length+1);S<Math.min(R+1,e.posiciones[0].length);S++){var V=e.posiciones[e.posiciones.length-1-R+S][S];if(V===A&&V!==f.Vacio)N++;else{if((x||V===f.Vacio)&&N>0)if(V===i){if(N>3)return Number.MAX_SAFE_INTEGER;t[N-1]++}else{if(N>3)return Number.MIN_SAFE_INTEGER;t[N-1]--}x=V===f.Vacio,N=0}A=V}var M=[.25,.5,1];return t.reduce((function(e,i,t){return e+i*M[t]}),0)}},{key:"jugarElitista",value:function(e){for(var i=0,t=0,o=[],a=Number.MIN_SAFE_INTEGER,s=0;s<this.tablero.posiciones[0].length;s++)if(this.tablero.posiciones[this.tablero.posiciones.length-1][s]===f.Vacio){for(var n=this.tablero.posiciones.length-1;n>0&&this.tablero.posiciones[n-1][s]===f.Vacio;)n--;this.expansiones++,this.tablero.posiciones[n][s]=e,(i=this.minValue(this.tablero,e,this.n))>a?(a=i,o=[s]):i===a&&o.push(s),this.tablero.posiciones[n][s]=0}if(1===o.length)t=o[0];else{if(0===o.length)for(var r=0;r<this.tablero.posiciones[0].length;r++)0===this.tablero.posiciones[this.tablero.posiciones.length-1][r]&&o.push(r);t=o[Math.floor(Math.random()*o.length)]}for(var l=this.tablero.posiciones.length-1;l>0&&this.tablero.posiciones[l-1][t]===f.Vacio;)l--;this.tablero.posiciones[l][t]=e}},{key:"maxValue",value:function(e,i,t){if(0===t)return this.calcularF(e,i);var o,a=e.calcularResultado();if(a.valueOf()===i.valueOf())return Number.MAX_SAFE_INTEGER;if(a.valueOf()===i%2+1)return Number.MIN_SAFE_INTEGER;for(var s=Number.MIN_SAFE_INTEGER,n=0;n<this.tablero.posiciones[0].length;n++)if(this.tablero.posiciones[this.tablero.posiciones.length-1][n]===f.Vacio){for(var r=this.tablero.posiciones.length-1;r>0&&this.tablero.posiciones[r-1][n]===f.Vacio;)r--;t>1&&this.expansiones++,this.tablero.posiciones[r][n]=i,(o=this.minValue(this.tablero,i,t-1))>s&&(s=o),this.tablero.posiciones[r][n]=f.Vacio}return s}},{key:"minValue",value:function(e,i,t){if(0===t)return this.calcularF(e,i);var o=e.calcularResultado();if(o.valueOf()===i.valueOf())return Number.MAX_SAFE_INTEGER;if(o===i%2+1)return Number.MIN_SAFE_INTEGER;for(var a=0,s=Number.MAX_SAFE_INTEGER,n=0;n<this.tablero.posiciones[0].length;n++)if(this.tablero.posiciones[this.tablero.posiciones.length-1][n]===f.Vacio){for(var r=this.tablero.posiciones.length-1;r>0&&this.tablero.posiciones[r-1][n]===f.Vacio;)r--;t>1&&this.expansiones++,this.tablero.posiciones[r][n]=i%2+1,(a=this.maxValue(this.tablero,i,t-1))<s&&(s=a),this.tablero.posiciones[r][n]=f.Vacio}return s}},{key:"jugarHumano",value:function(e){this.tablero.imprimirTablero();for(var i,o=[],a=0;a<this.tablero.posiciones[0].length;a++)this.tablero.posiciones[this.tablero.posiciones.length-1][a]===f.Vacio&&o.push(a);do{var s=t(14)();console.log(o),i=parseInt(s("Cual es su jugada? "))}while(!(i in o));for(var n=this.tablero.posiciones.length-1;n>0&&this.tablero.posiciones[n-1][i]===f.Vacio;)n--;this.tablero.posiciones[n][i]=e}},{key:"jugarVsHumano",value:function(){var e=this.jugadorAgente,i=e%2+1,t=1,o=this.turnosMaximos;do{if(t===e?this.jugarElitista(e):this.jugarHumano(i),this.gameResult=this.tablero.calcularResultado(),this.gameResult>0){this.gameResult.valueOf()!==e.valueOf()?console.log("Felicidades! Usted ha ganado."):this.gameResult.valueOf()===e.valueOf()&&(this.tablero.imprimirTablero(),console.log("Felicidades! Su agente ha ganado."));break}t=2-t+1,o--}while(o>0)}}]),e}(),S=function(){function e(i){Object(j.a)(this,e),this.n=void 0,this.tablero=new v,this.jugadorAgente=f.Rojo,this.turnosMaximos=42,this.gameResult=g.SinGanador,this.expansiones=0,this.n=i}return Object(d.a)(e,[{key:"reset",value:function(){this.tablero=new v,this.gameResult=g.SinGanador}},{key:"calcularF",value:function(e,i){for(var t=Array(3).fill(0),o=0;o<e.posiciones.length;o++)for(var a=!1,s=0,n=-1,r=0;r<e.posiciones[0].length;r++){var l=e.posiciones[o][r];if(l===n&&l!==f.Vacio)s++;else{if((a||l===f.Vacio)&&s>0)if(l===i){if(s>3)return Number.MAX_SAFE_INTEGER;t[s-1]++}else{if(s>3)return Number.MIN_SAFE_INTEGER;t[s-1]--}a=l===f.Vacio,s=0}n=l}for(var c=0;c<e.posiciones[0].length;c++)for(var h=!1,u=0,b=-1,p=0;p<e.posiciones.length;p++){var g=e.posiciones[p][c];if(g===b&&g!==f.Vacio)u++;else{if((h||g===f.Vacio)&&u>0)if(g===i){if(u>3)return Number.MAX_SAFE_INTEGER;t[u-1]++}else{if(u>3)return Number.MIN_SAFE_INTEGER;t[u-1]--}h=g===f.Vacio,u=0}b=g}for(var j=3;j<e.posiciones.length+e.posiciones[0].length-4;j++)for(var d=!1,m=0,v=-1,E=Math.max(0,j-e.posiciones.length+1);E<Math.min(j+1,e.posiciones[0].length);E++){var O=e.posiciones[j-E][E];if(O===v&&O!==f.Vacio)m++;else{if((d||O===f.Vacio)&&m>0)if(O===i){if(m>3)return Number.MAX_SAFE_INTEGER;t[m-1]++}else{if(m>3)return Number.MIN_SAFE_INTEGER;t[m-1]--}d=O===f.Vacio,m=0}v=O}for(var R=3;R<e.posiciones.length+e.posiciones[0].length-4;R++)for(var x=!1,N=0,A=-1,S=Math.max(0,R-e.posiciones.length+1);S<Math.min(R+1,e.posiciones[0].length);S++){var V=e.posiciones[e.posiciones.length-1-R+S][S];if(V===A&&V!==f.Vacio)N++;else{if((x||V===f.Vacio)&&N>0)if(V===i){if(N>3)return Number.MAX_SAFE_INTEGER;t[N-1]++}else{if(N>3)return Number.MIN_SAFE_INTEGER;t[N-1]--}x=V===f.Vacio,N=0}A=V}var M=[.25,.5,1];return t.reduce((function(e,i,t){return e+i*M[t]}),0)}},{key:"jugarElitista",value:function(e){for(var i=0,t=0,o=[],a=Number.MIN_SAFE_INTEGER,s=0;s<this.tablero.posiciones[0].length;s++)if(this.tablero.posiciones[this.tablero.posiciones.length-1][s]===f.Vacio){for(var n=this.tablero.posiciones.length-1;n>0&&this.tablero.posiciones[n-1][s]===f.Vacio;)n--;this.expansiones++,this.tablero.posiciones[n][s]=e,(i=this.minValue(this.tablero,e,this.n,Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER))>a?(a=i,o=[s]):i===a&&o.push(s),this.tablero.posiciones[n][s]=0}if(1===o.length)t=o[0];else{if(0===o.length)for(var r=0;r<this.tablero.posiciones[0].length;r++)0===this.tablero.posiciones[this.tablero.posiciones.length-1][r]&&o.push(r);t=o[Math.floor(Math.random()*o.length)]}for(var l=this.tablero.posiciones.length-1;l>0&&this.tablero.posiciones[l-1][t]===f.Vacio;)l--;this.tablero.posiciones[l][t]=e}},{key:"maxValue",value:function(e,i,t,o,a){if(0===t)return this.calcularF(e,i);var s,n=e.calcularResultado();if(n.valueOf()===i.valueOf())return Number.MAX_SAFE_INTEGER;if(n.valueOf()===i%2+1)return Number.MIN_SAFE_INTEGER;for(var r=Number.MIN_SAFE_INTEGER,l=0;l<this.tablero.posiciones[0].length;l++)if(this.tablero.posiciones[this.tablero.posiciones.length-1][l]===f.Vacio){for(var c=this.tablero.posiciones.length-1;c>0&&this.tablero.posiciones[c-1][l]===f.Vacio;)c--;if(t>1&&this.expansiones++,this.tablero.posiciones[c][l]=i,(s=this.minValue(this.tablero,i,t-1,o,a))>r&&(r=s),this.tablero.posiciones[c][l]=f.Vacio,r>=a)return r;r>o&&(o=r)}return r}},{key:"minValue",value:function(e,i,t,o,a){if(0===t)return this.calcularF(e,i);var s=e.calcularResultado();if(s.valueOf()===i.valueOf())return Number.MAX_SAFE_INTEGER;if(s===i%2+1)return Number.MIN_SAFE_INTEGER;for(var n=0,r=Number.MAX_SAFE_INTEGER,l=0;l<this.tablero.posiciones[0].length;l++)if(this.tablero.posiciones[this.tablero.posiciones.length-1][l]===f.Vacio){for(var c=this.tablero.posiciones.length-1;c>0&&this.tablero.posiciones[c-1][l]===f.Vacio;)c--;if(t>1&&this.expansiones++,this.tablero.posiciones[c][l]=i%2+1,(n=this.maxValue(this.tablero,i,t-1,o,a))<r&&(r=n),this.tablero.posiciones[c][l]=f.Vacio,r<=o)return r;r<a&&(a=r)}return r}},{key:"jugarHumano",value:function(e){this.tablero.imprimirTablero();for(var i,o=[],a=0;a<this.tablero.posiciones[0].length;a++)this.tablero.posiciones[this.tablero.posiciones.length-1][a]===f.Vacio&&o.push(a);do{var s=t(14)();console.log(o),i=parseInt(s("Cual es su jugada? "))}while(!(i in o));for(var n=this.tablero.posiciones.length-1;n>0&&this.tablero.posiciones[n-1][i]===f.Vacio;)n--;this.tablero.posiciones[n][i]=e}},{key:"jugarVsHumano",value:function(){var e=this.jugadorAgente,i=e%2+1,t=1,o=this.turnosMaximos;do{if(t===e?this.jugarElitista(e):this.jugarHumano(i),this.gameResult=this.tablero.calcularResultado(),this.gameResult>0){this.gameResult.valueOf()!==e.valueOf()?console.log("Felicidades! Usted ha ganado."):this.gameResult.valueOf()===e.valueOf()&&(this.tablero.imprimirTablero(),console.log("Felicidades! Su agente ha ganado."));break}t=2-t+1,o--}while(o>0)}}]),e}(),V=function e(i,t,o,a){Object(j.a)(this,e),this.n=void 0,this.algoritmo=void 0,this.tiempo=void 0,this.nodos_expandidos=void 0,this.n=i,this.algoritmo=t,this.tiempo=o,this.nodos_expandidos=a},M=function(e){var i=e.fichaValor;return Object(R.jsx)("div",{className:"Agujero",children:Object(R.jsx)("div",{className:f[i]})})},T=function(e){var i=e.handleClick,t=e.agujeros;return Object(R.jsx)("div",{className:"Columna",onClick:function(){return i()},children:Object(N.a)(Array(t.length)).map((function(e,i){return Object(R.jsx)(M,{fichaValor:t[i]},i)})).reverse()})},G=function(e){var i=e.parametros,t=e.grabarResultado,s=f.Amarillo,n=f.Rojo,r=Object(a.useState)(new v),c=Object(l.a)(r,2),h=c[0],u=c[1],b=Object(a.useState)(f.Rojo),p=Object(l.a)(b,2),j=p[0],d=p[1],m=Object(a.useState)(O.SinSeleccionar),x=Object(l.a)(m,2),M=x[0],G=x[1],_=Object(a.useState)(""),I=Object(l.a)(_,2),k=I[0],y=I[1],F=function(e){G(e),u(new v),d(f.Rojo)},w=Object(N.a)(Array(h.posiciones[0].length)).map((function(e,i){return Object(R.jsx)(T,{handleClick:function(){return function(e){if(h.verificarColumnaLibre(e)&&h.calcularResultado()===g.SinGanador){var i=new v;i.posiciones=JSON.parse(JSON.stringify(h.posiciones)),i.tirarFicha(e,j),u(i),d(j===f.Rojo?f.Amarillo:f.Rojo)}else console.log("Movimiento invalido")}(i)},agujeros:h.posiciones.map((function(e){return e[i]}))},i)})),C=""!==k?"mensajeGanador aparecer":"mensajeGanador";return Object(a.useEffect)((function(){switch(h.calcularResultado()){case g.Empate:y("ninguno");break;case g.GanadorRojo:y("Rojo");break;case g.GanadorAmarillo:y("Amarillo");break;case g.SinGanador:if(M===O.Estrategia&&j===s){var e=performance.now(),a=function(e,i,t){var a,s=new v;switch(s.posiciones=JSON.parse(JSON.stringify(e.posiciones)),i.estrategia){case o.Minimax:a=new A(i.nivel);break;case o.Alfabeta:a=new S(i.nivel);break;case o.RLAgent:(a=E.Agente).reset(!1);break;default:a=new A(i.nivel)}return a.tablero=s,a.jugarElitista(t),[a.tablero,a.expansiones]}(h,i,j),r=Object(l.a)(a,2),c=r[0],b=r[1],p=performance.now();u(c),d(n);var f=i.estrategia===o.RLAgent?E.Agente.n:i.nivel,m=new V(f,i.estrategia,p-e,b);t(m)}}}),[j,h]),Object(R.jsxs)("div",{className:"TableroGrafico",children:[M!==O.SinSeleccionar&&Object(R.jsx)("div",{className:"Tablero",children:w}),M===O.SinSeleccionar&&Object(R.jsxs)("div",{children:[Object(R.jsx)("button",{className:"btn btn-primary mx-3",onClick:function(){return F(O.Humano)},children:"Jugar Humano"}),Object(R.jsx)("button",{className:"btn btn-primary mx-3",onClick:function(){return F(O.Estrategia)},children:"Jugar Estrategia"})]}),Object(R.jsxs)("div",{className:C,children:["Gana ",k,"!"]})]})},_=function e(){Object(j.a)(this,e),this.estrategia=o.Minimax,this.nivel=3,this.qRate=.5},I=t(42),k=function(e){var i=e.resultados;return Object(R.jsxs)(I.a,{striped:!0,bordered:!0,hover:!0,variant:"dark",children:[Object(R.jsx)("thead",{children:Object(R.jsxs)("tr",{children:[Object(R.jsx)("th",{children:"N\xba Jugada"}),Object(R.jsx)("th",{children:"N"}),Object(R.jsx)("th",{children:"Algoritmo"}),Object(R.jsx)("th",{children:"Tiempo de Ejecuci\xf3n (ms)"}),Object(R.jsx)("th",{children:"Nodos Expandidos"})]})}),Object(R.jsx)("tbody",{children:i.map((function(e,i){return Object(R.jsxs)("tr",{children:[Object(R.jsx)("td",{children:i}),Object(R.jsx)("td",{children:e.n}),Object(R.jsx)("td",{children:o[e.algoritmo]}),Object(R.jsx)("td",{children:e.tiempo}),Object(R.jsx)("td",{children:e.nodos_expandidos})]},i)}))})]})},y=["Minimax","RLAgent","Banana"];var F=function(){var e=Object(a.useState)(new _),i=Object(l.a)(e,2),t=i[0],o=i[1],s=Object(a.useState)([]),n=Object(l.a)(s,2),r=n[0],u=n[1];return Object(R.jsx)("div",{className:"App p-3",children:Object(R.jsxs)(c.a,{children:[Object(R.jsx)("h3",{className:"text-start h2 mb-3",children:"Connect-4"}),Object(R.jsx)("hr",{}),Object(R.jsx)("h4",{children:"Par\xe1metros del problema"}),Object(R.jsx)(h.a,{className:"mt-3",children:Object(R.jsx)(x,{onElegirEstrategia:function(e){o(e)},onLimpiarTablero:function(){},algoritmos:y})}),Object(R.jsx)("hr",{}),Object(R.jsx)("h4",{children:"Tablero"}),Object(R.jsx)(h.a,{className:"mt-3",children:Object(R.jsx)(G,{parametros:t,grabarResultado:function(e){u((function(i){var t=JSON.parse(JSON.stringify(i));return t.push(e),t}))}})}),Object(R.jsx)("hr",{}),Object(R.jsx)("h4",{children:"Resultados"}),Object(R.jsx)(h.a,{className:"mt-3",children:Object(R.jsx)(k,{resultados:r})})]})})},w=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,46)).then((function(i){var t=i.getCLS,o=i.getFID,a=i.getFCP,s=i.getLCP,n=i.getTTFB;t(e),o(e),a(e),s(e),n(e)}))};r.a.render(Object(R.jsx)(s.a.StrictMode,{children:Object(R.jsx)(F,{})}),document.getElementById("root")),w()}},[[40,1,2]]]);
//# sourceMappingURL=main.4953a933.chunk.js.map