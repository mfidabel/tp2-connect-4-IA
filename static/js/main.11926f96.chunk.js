(this["webpackJsonpconnect-4-ia"]=this["webpackJsonpconnect-4-ia"]||[]).push([[0],{25:function(e,t,i){},26:function(e,t,i){},40:function(e,t,i){"use strict";i.r(t);var a,o=i(1),s=i.n(o),n=i(18),r=i.n(n),l=(i(25),i(6)),c=(i(26),i(27),i(43)),h=i(41),u=i(44),b=i(20),g=i(45);!function(e){e[e.Minimax=0]="Minimax",e[e.Alfabeta=1]="Alfabeta",e[e.RLAgent=2]="RLAgent"}(a||(a={}));var j,f,d=i(7),p=i(8);!function(e){e[e.Vacio=0]="Vacio",e[e.Rojo=1]="Rojo",e[e.Amarillo=2]="Amarillo"}(j||(j={})),function(e){e[e.SinGanador=0]="SinGanador",e[e.GanadorRojo=1]="GanadorRojo",e[e.GanadorAmarillo=2]="GanadorAmarillo",e[e.Empate=3]="Empate"}(f||(f={}));var m=function(e){switch(e){case j.Rojo:return f.GanadorRojo;case j.Amarillo:return f.GanadorAmarillo;default:return f.SinGanador}},v=function(){function e(){Object(d.a)(this,e),this.posiciones=void 0,this.posiciones=Array(6).fill(void 0).map((function(){return Array(7).fill(j.Vacio)}))}return Object(p.a)(e,[{key:"vaciarTablero",value:function(){this.posiciones=Array(6).fill(void 0).map((function(){return Array(7).fill(j.Vacio)}))}},{key:"calcularResultado",value:function(){for(var e,t=0,i=0;i<this.posiciones.length;i++){e=0;for(var a=0;a<this.posiciones[0].length;a++){var o=this.posiciones[i][a];if(o===e?t++:t=1,4===t&&(o===j.Rojo||o===j.Amarillo))return o===j.Rojo?f.GanadorRojo:f.GanadorAmarillo;e=o}}for(var s=0;s<this.posiciones[0].length;s++){e=0;for(var n=0;n<this.posiciones.length;n++){var r=this.posiciones[n][s];if(r===e?t++:t=1,4===t&&(r===j.Rojo||r===j.Amarillo))return r===j.Rojo?f.GanadorRojo:f.GanadorAmarillo;e=r}}for(var l=3;l<this.posiciones.length+this.posiciones[0].length-4;l++){e=0;for(var c=Math.max(0,l-this.posiciones.length+1);c<Math.min(l+1,this.posiciones[0].length);c++){var h=this.posiciones[l-c][c];if(h===e?t++:t=1,4===t&&(h===j.Rojo||h===j.Amarillo))return h===j.Rojo?f.GanadorRojo:f.GanadorAmarillo;e=h}}for(var u=3;u<this.posiciones.length+this.posiciones[0].length-4;u++){e=0;for(var b=Math.max(0,u-this.posiciones.length+1);b<Math.min(u+1,this.posiciones[0].length);b++){var g=this.posiciones[this.posiciones.length-1-u+b][b];if(g===e?t++:t=1,4===t&&(g===j.Rojo||g===j.Amarillo))return g===j.Rojo?f.GanadorRojo:f.GanadorAmarillo;e=g}}for(var d=0;d<this.posiciones[0].length;d++)if(0===this.posiciones[0][d]||0===this.posiciones[this.posiciones.length-1][d])return f.SinGanador;return f.Empate}},{key:"imprimirTablero",value:function(){for(var e=this.posiciones.length-1;e>=0;e--){for(var t="|",i=0;i<this.posiciones[0].length;i++)t=t.concat("".concat(this.posiciones[e][i].valueOf())).concat("|");console.log(t)}}},{key:"tirarFicha",value:function(e,t){if(e>this.posiciones[0].length)console.error("No existe la columna");else if(this.verificarColumnaLibre(e)){var i=this.posiciones.findIndex((function(t){return t[e]===j.Vacio}));this.posiciones[i][e]=t}else console.error("No se puede colocar aca")}},{key:"verificarColumnaLibre",value:function(e){return e>this.posiciones[0].length?(console.error("No existe la columna"),!1):this.posiciones[this.posiciones.length-1][e]===j.Vacio}}]),e}(),R=function(){function e(t){Object(d.a)(this,e),this.n=void 0,this.tablero=new v,this.jugadorAgente=j.Rojo,this.turnosMaximos=42,this.gameResult=f.SinGanador,this.expansiones=0,this.n=t}return Object(p.a)(e,[{key:"reset",value:function(){this.tablero=new v,this.gameResult=f.SinGanador}},{key:"calcularF",value:function(e,t){for(var i=Array(3).fill(0),a=0;a<e.posiciones.length;a++)for(var o=!1,s=0,n=-1,r=0;r<e.posiciones[0].length;r++){var l=e.posiciones[a][r];if(l===n&&l!==j.Vacio)s++;else{if((o||l===j.Vacio)&&s>0)if(l===t){if(s>3)return Number.MAX_SAFE_INTEGER;i[s-1]++}else{if(s>3)return Number.MIN_SAFE_INTEGER;i[s-1]--}o=l===j.Vacio,s=0}n=l}for(var c=0;c<e.posiciones[0].length;c++)for(var h=!1,u=0,b=-1,g=0;g<e.posiciones.length;g++){var f=e.posiciones[g][c];if(f===b&&f!==j.Vacio)u++;else{if((h||f===j.Vacio)&&u>0)if(f===t){if(u>3)return Number.MAX_SAFE_INTEGER;i[u-1]++}else{if(u>3)return Number.MIN_SAFE_INTEGER;i[u-1]--}h=f===j.Vacio,u=0}b=f}for(var d=3;d<e.posiciones.length+e.posiciones[0].length-4;d++)for(var p=!1,m=0,v=-1,R=Math.max(0,d-e.posiciones.length+1);R<Math.min(d+1,e.posiciones[0].length);R++){var A=e.posiciones[d-R][R];if(A===v&&A!==j.Vacio)m++;else{if((p||A===j.Vacio)&&m>0)if(A===t){if(m>3)return Number.MAX_SAFE_INTEGER;i[m-1]++}else{if(m>3)return Number.MIN_SAFE_INTEGER;i[m-1]--}p=A===j.Vacio,m=0}v=A}for(var x=3;x<e.posiciones.length+e.posiciones[0].length-4;x++)for(var O=!1,E=0,N=-1,T=Math.max(0,x-e.posiciones.length+1);T<Math.min(x+1,e.posiciones[0].length);T++){var M=e.posiciones[e.posiciones.length-1-x+T][T];if(M===N&&M!==j.Vacio)E++;else{if((O||M===j.Vacio)&&E>0)if(M===t){if(E>3)return Number.MAX_SAFE_INTEGER;i[E-1]++}else{if(E>3)return Number.MIN_SAFE_INTEGER;i[E-1]--}O=M===j.Vacio,E=0}N=M}var S=[.25,.5,1];return i.reduce((function(e,t,i){return e+t*S[i]}),0)}},{key:"jugarElitista",value:function(e){for(var t=0,i=0,a=[],o=Number.MIN_SAFE_INTEGER,s=0;s<this.tablero.posiciones[0].length;s++)if(this.tablero.posiciones[this.tablero.posiciones.length-1][s]===j.Vacio){for(var n=this.tablero.posiciones.length-1;n>0&&this.tablero.posiciones[n-1][s]===j.Vacio;)n--;this.expansiones++,this.tablero.posiciones[n][s]=e,(t=this.minValue(this.tablero,e,this.n))>o?(o=t,a=[s]):t===o&&a.push(s),this.tablero.posiciones[n][s]=0}if(1===a.length)i=a[0];else{if(0===a.length)for(var r=0;r<this.tablero.posiciones[0].length;r++)0===this.tablero.posiciones[this.tablero.posiciones.length-1][r]&&a.push(r);i=a[Math.floor(Math.random()*a.length)]}for(var l=this.tablero.posiciones.length-1;l>0&&this.tablero.posiciones[l-1][i]===j.Vacio;)l--;this.tablero.posiciones[l][i]=e}},{key:"maxValue",value:function(e,t,i){if(0===i)return this.calcularF(e,t);var a,o=e.calcularResultado();if(o.valueOf()===t.valueOf())return Number.MAX_SAFE_INTEGER;if(o.valueOf()===t%2+1)return Number.MIN_SAFE_INTEGER;for(var s=Number.MIN_SAFE_INTEGER,n=0;n<this.tablero.posiciones[0].length;n++)if(this.tablero.posiciones[this.tablero.posiciones.length-1][n]===j.Vacio){for(var r=this.tablero.posiciones.length-1;r>0&&this.tablero.posiciones[r-1][n]===j.Vacio;)r--;i>1&&this.expansiones++,this.tablero.posiciones[r][n]=t,(a=this.minValue(this.tablero,t,i-1))>s&&(s=a),this.tablero.posiciones[r][n]=j.Vacio}return s}},{key:"minValue",value:function(e,t,i){if(0===i)return this.calcularF(e,t);var a=e.calcularResultado();if(a.valueOf()===t.valueOf())return Number.MAX_SAFE_INTEGER;if(a===t%2+1)return Number.MIN_SAFE_INTEGER;for(var o=0,s=Number.MAX_SAFE_INTEGER,n=0;n<this.tablero.posiciones[0].length;n++)if(this.tablero.posiciones[this.tablero.posiciones.length-1][n]===j.Vacio){for(var r=this.tablero.posiciones.length-1;r>0&&this.tablero.posiciones[r-1][n]===j.Vacio;)r--;i>1&&this.expansiones++,this.tablero.posiciones[r][n]=t%2+1,(o=this.maxValue(this.tablero,t,i-1))<s&&(s=o),this.tablero.posiciones[r][n]=j.Vacio}return s}},{key:"jugarHumano",value:function(e){this.tablero.imprimirTablero();for(var t,a=[],o=0;o<this.tablero.posiciones[0].length;o++)this.tablero.posiciones[this.tablero.posiciones.length-1][o]===j.Vacio&&a.push(o);do{var s=i(14)();console.log(a),t=parseInt(s("Cual es su jugada? "))}while(!(t in a));for(var n=this.tablero.posiciones.length-1;n>0&&this.tablero.posiciones[n-1][t]===j.Vacio;)n--;this.tablero.posiciones[n][t]=e}},{key:"jugarVsHumano",value:function(){var e=this.jugadorAgente,t=e%2+1,i=1,a=this.turnosMaximos;do{if(i===e?this.jugarElitista(e):this.jugarHumano(t),this.gameResult=this.tablero.calcularResultado(),this.gameResult>0){this.gameResult.valueOf()!==e.valueOf()?console.log("Felicidades! Usted ha ganado."):this.gameResult.valueOf()===e.valueOf()&&(this.tablero.imprimirTablero(),console.log("Felicidades! Su agente ha ganado."));break}i=2-i+1,a--}while(a>0)}}]),e}(),A=function(){function e(t){Object(d.a)(this,e),this.n=void 0,this.tablero=new v,this.jugadorAgente=j.Rojo,this.turnosMaximos=42,this.gameResult=f.SinGanador,this.expansiones=0,this.n=t}return Object(p.a)(e,[{key:"reset",value:function(){this.tablero=new v,this.gameResult=f.SinGanador}},{key:"calcularF",value:function(e,t){for(var i=Array(3).fill(0),a=0;a<e.posiciones.length;a++)for(var o=!1,s=0,n=-1,r=0;r<e.posiciones[0].length;r++){var l=e.posiciones[a][r];if(l===n&&l!==j.Vacio)s++;else{if((o||l===j.Vacio)&&s>0)if(l===t){if(s>3)return Number.MAX_SAFE_INTEGER;i[s-1]++}else{if(s>3)return Number.MIN_SAFE_INTEGER;i[s-1]--}o=l===j.Vacio,s=0}n=l}for(var c=0;c<e.posiciones[0].length;c++)for(var h=!1,u=0,b=-1,g=0;g<e.posiciones.length;g++){var f=e.posiciones[g][c];if(f===b&&f!==j.Vacio)u++;else{if((h||f===j.Vacio)&&u>0)if(f===t){if(u>3)return Number.MAX_SAFE_INTEGER;i[u-1]++}else{if(u>3)return Number.MIN_SAFE_INTEGER;i[u-1]--}h=f===j.Vacio,u=0}b=f}for(var d=3;d<e.posiciones.length+e.posiciones[0].length-4;d++)for(var p=!1,m=0,v=-1,R=Math.max(0,d-e.posiciones.length+1);R<Math.min(d+1,e.posiciones[0].length);R++){var A=e.posiciones[d-R][R];if(A===v&&A!==j.Vacio)m++;else{if((p||A===j.Vacio)&&m>0)if(A===t){if(m>3)return Number.MAX_SAFE_INTEGER;i[m-1]++}else{if(m>3)return Number.MIN_SAFE_INTEGER;i[m-1]--}p=A===j.Vacio,m=0}v=A}for(var x=3;x<e.posiciones.length+e.posiciones[0].length-4;x++)for(var O=!1,E=0,N=-1,T=Math.max(0,x-e.posiciones.length+1);T<Math.min(x+1,e.posiciones[0].length);T++){var M=e.posiciones[e.posiciones.length-1-x+T][T];if(M===N&&M!==j.Vacio)E++;else{if((O||M===j.Vacio)&&E>0)if(M===t){if(E>3)return Number.MAX_SAFE_INTEGER;i[E-1]++}else{if(E>3)return Number.MIN_SAFE_INTEGER;i[E-1]--}O=M===j.Vacio,E=0}N=M}var S=[.25,.5,1];return i.reduce((function(e,t,i){return e+t*S[i]}),0)}},{key:"jugarElitista",value:function(e){for(var t=0,i=0,a=[],o=Number.MIN_SAFE_INTEGER,s=0;s<this.tablero.posiciones[0].length;s++)if(this.tablero.posiciones[this.tablero.posiciones.length-1][s]===j.Vacio){for(var n=this.tablero.posiciones.length-1;n>0&&this.tablero.posiciones[n-1][s]===j.Vacio;)n--;this.expansiones++,this.tablero.posiciones[n][s]=e,(t=this.minValue(this.tablero,e,this.n,Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER))>o?(o=t,a=[s]):t===o&&a.push(s),this.tablero.posiciones[n][s]=0}if(1===a.length)i=a[0];else{if(0===a.length)for(var r=0;r<this.tablero.posiciones[0].length;r++)0===this.tablero.posiciones[this.tablero.posiciones.length-1][r]&&a.push(r);i=a[Math.floor(Math.random()*a.length)]}for(var l=this.tablero.posiciones.length-1;l>0&&this.tablero.posiciones[l-1][i]===j.Vacio;)l--;this.tablero.posiciones[l][i]=e}},{key:"maxValue",value:function(e,t,i,a,o){if(0===i)return this.calcularF(e,t);var s,n=e.calcularResultado();if(n.valueOf()===t.valueOf())return Number.MAX_SAFE_INTEGER;if(n.valueOf()===t%2+1)return Number.MIN_SAFE_INTEGER;for(var r=Number.MIN_SAFE_INTEGER,l=0;l<this.tablero.posiciones[0].length;l++)if(this.tablero.posiciones[this.tablero.posiciones.length-1][l]===j.Vacio){for(var c=this.tablero.posiciones.length-1;c>0&&this.tablero.posiciones[c-1][l]===j.Vacio;)c--;if(i>1&&this.expansiones++,this.tablero.posiciones[c][l]=t,(s=this.minValue(this.tablero,t,i-1,a,o))>r&&(r=s),this.tablero.posiciones[c][l]=j.Vacio,r>=o)return r;r>a&&(a=r)}return r}},{key:"minValue",value:function(e,t,i,a,o){if(0===i)return this.calcularF(e,t);var s=e.calcularResultado();if(s.valueOf()===t.valueOf())return Number.MAX_SAFE_INTEGER;if(s===t%2+1)return Number.MIN_SAFE_INTEGER;for(var n=0,r=Number.MAX_SAFE_INTEGER,l=0;l<this.tablero.posiciones[0].length;l++)if(this.tablero.posiciones[this.tablero.posiciones.length-1][l]===j.Vacio){for(var c=this.tablero.posiciones.length-1;c>0&&this.tablero.posiciones[c-1][l]===j.Vacio;)c--;if(i>1&&this.expansiones++,this.tablero.posiciones[c][l]=t%2+1,(n=this.maxValue(this.tablero,t,i-1,a,o))<r&&(r=n),this.tablero.posiciones[c][l]=j.Vacio,r<=a)return r;r<o&&(o=r)}return r}},{key:"jugarHumano",value:function(e){this.tablero.imprimirTablero();for(var t,a=[],o=0;o<this.tablero.posiciones[0].length;o++)this.tablero.posiciones[this.tablero.posiciones.length-1][o]===j.Vacio&&a.push(o);do{var s=i(14)();console.log(a),t=parseInt(s("Cual es su jugada? "))}while(!(t in a));for(var n=this.tablero.posiciones.length-1;n>0&&this.tablero.posiciones[n-1][t]===j.Vacio;)n--;this.tablero.posiciones[n][t]=e}},{key:"jugarVsHumano",value:function(){var e=this.jugadorAgente,t=e%2+1,i=1,a=this.turnosMaximos;do{if(i===e?this.jugarElitista(e):this.jugarHumano(t),this.gameResult=this.tablero.calcularResultado(),this.gameResult>0){this.gameResult.valueOf()!==e.valueOf()?console.log("Felicidades! Usted ha ganado."):this.gameResult.valueOf()===e.valueOf()&&(this.tablero.imprimirTablero(),console.log("Felicidades! Su agente ha ganado."));break}i=2-i+1,a--}while(a>0)}}]),e}(),x=function(){function e(t){Object(d.a)(this,e),this.n=void 0,this.tablero=new v,this.lastTablero=new v,this.entrenar=!1,this.jugadorAgente=j.Rojo,this.alpha=.7,this.turnosMaximos=42,this.gameResult=f.SinGanador,this.lookupTable=new Map,this.qRate=.5,this.expansiones=0,this.n=t}return Object(p.a)(e,[{key:"reset",value:function(e){this.tablero=new v,this.lastTablero=new v,this.entrenar=e,this.gameResult=f.SinGanador,this.expansiones=0}},{key:"resetLearning",value:function(){this.lookupTable=new Map}},{key:"calcularR",value:function(e,t){var i=t===j.Rojo?j.Amarillo:j.Rojo;switch(e.calcularResultado()){case m(t):return 1;case m(i):case f.Empate:return 0;default:return this.getProbability(e)}}},{key:"getProbability",value:function(e){this.expansiones++;var t=e.posiciones.toString();return this.lookupTable.has(t)||this.lookupTable.set(t,.5),this.lookupTable.get(t)}},{key:"updateProbability",value:function(e,t,i){var a=this.calcularR(e,i);a+=this.alpha*(t-a);var o=e.toString();this.lookupTable.set(o,a)}},{key:"jugarElitista",value:function(e){for(var t,i,a=[],o=Number.MIN_SAFE_INTEGER,s=0;s<this.tablero.posiciones[0].length;s++)if(this.tablero.posiciones[this.tablero.posiciones.length-1][s]===j.Vacio){for(var n=this.tablero.posiciones.length-1;n>0&&this.tablero.posiciones[n-1][s]===j.Vacio;)n--;this.tablero.posiciones[n][s]=e,(t=this.calcularR(this.tablero,e))>o?(o=t,a=[s]):t===o&&a.push(s),this.tablero.posiciones[n][s]=0}if(1===a.length)i=a[0];else{if(0===a.length)for(var r=0;r<this.tablero.posiciones[0].length;r++)0===this.tablero.posiciones[this.tablero.posiciones.length-1][r]&&a.push(r);i=a[Math.floor(Math.random()*a.length)]}this.entrenar&&this.updateProbability(this.lastTablero,o,e);for(var l=this.tablero.posiciones.length-1;l>0&&this.tablero.posiciones[l-1][i]===j.Vacio;)l--;this.tablero.posiciones[l][i]=e,this.copiarTablero(this.tablero,this.lastTablero)}},{key:"jugarRandom",value:function(e){for(var t=[],i=0;i<this.tablero.posiciones[0].length;i++)this.tablero.posiciones[this.tablero.posiciones.length-1][i]===j.Vacio&&t.push(i);for(var a=t[Math.floor(Math.random()*t.length)],o=this.tablero.posiciones.length-1;o>0&&this.tablero.posiciones[o-1][a]===j.Vacio;)o--;this.tablero.posiciones[o][a]=e,e===this.jugadorAgente&&this.copiarTablero(this.tablero,this.lastTablero)}},{key:"jugarHumano",value:function(e){this.tablero.imprimirTablero();for(var t,a=[],o=0;o<this.tablero.posiciones[0].length;o++)this.tablero.posiciones[this.tablero.posiciones.length-1][o]===j.Vacio&&a.push(o);do{var s=i(14)();console.log(a),t=parseInt(s("Cual es su jugada? ")),console.log(t)}while(!(t in a));for(var n=this.tablero.posiciones.length-1;n>0&&this.tablero.posiciones[n-1][t]===j.Vacio;)n--;this.tablero.posiciones[n][t]=e,e===this.jugadorAgente&&this.copiarTablero(this.tablero,this.lastTablero)}},{key:"copiarTablero",value:function(e,t){for(var i=0;i<e.posiciones.length;i++)for(var a=0;a<e.posiciones[0].length;a++)t.posiciones[i][a]=e.posiciones[i][a]}},{key:"updateAlpha",value:function(e){this.alpha=.5-.49*e/this.n}},{key:"selfPlay",value:function(){var e=1,t=this.turnosMaximos;do{if(Math.random()<=this.qRate||!this.entrenar?this.jugarElitista(e):this.jugarRandom(e),this.gameResult=this.tablero.calcularResultado(),this.gameResult>0){this.gameResult!==m(e)&&this.entrenar&&this.updateProbability(this.lastTablero,this.calcularR(this.tablero,e),e);break}e=2-e+1,t--}while(t>0)}},{key:"jugarVsRandom",value:function(){var e=this.jugadorAgente,t=e%2+1,i=1,a=this.turnosMaximos;do{if(i===e?Math.random()<=this.qRate||!this.entrenar?this.jugarElitista(e):this.jugarRandom(e):this.jugarRandom(t),this.gameResult=this.tablero.calcularResultado(),this.gameResult>0){this.gameResult!==m(e)&&this.entrenar&&this.updateProbability(this.lastTablero,this.calcularR(this.tablero,e),e);break}i=2-i+1,a--}while(a>0)}},{key:"jugarVsMinimax",value:function(e,t){var i;switch(t){case a.Minimax:i=new R(e);break;case a.Alfabeta:i=new A(e);break;default:i=new R(e)}var o=this.jugadorAgente,s=i.jugadorAgente%2+1,n=1,r=this.turnosMaximos;do{if(n===o?Math.random()<=this.qRate||!this.entrenar?this.jugarElitista(o):this.jugarRandom(o):(this.copiarTablero(this.tablero,i.tablero),i.jugarElitista(s),this.copiarTablero(i.tablero,this.tablero)),this.gameResult=this.tablero.calcularResultado(),this.gameResult>0){this.gameResult!==m(o)&&this.entrenar&&this.updateProbability(this.lastTablero,this.calcularR(this.tablero,o),o);break}n=2-n+1,r--}while(r>0)}},{key:"jugarVsHumano",value:function(){var e=this.jugadorAgente,t=e%2+1,i=1,a=this.turnosMaximos;do{if(i===e?this.jugarRandom(e):this.jugarHumano(t),this.gameResult=this.tablero.calcularResultado(),this.gameResult>0){this.gameResult!==m(e)&&this.entrenar?(this.updateProbability(this.lastTablero,this.calcularR(this.tablero,e),e),console.log("Felicidades! Usted ha ganado.")):this.gameResult===m(e)&&(this.tablero.imprimirTablero(),console.log("Felicidades! Su agente ha ganado."));break}i=2-i+1,a--}while(a>0)}}]),e}();x.Agente=new x(1e4),x.AgenteB=new x(1e4);var O,E=i(0),N=function(e){var t=e.onElegirEstrategia,i=(e.onLimpiarTablero,Object(o.useState)(a.Minimax)),s=Object(l.a)(i,2),n=s[0],r=s[1],c=Object(o.useState)(3),j=Object(l.a)(c,2),f=j[0],d=j[1],p=Object(o.useState)(.5),m=Object(l.a)(p,2),v=m[0],R=m[1],A=Object(o.useState)(1e4),O=Object(l.a)(A,2),N=O[0],T=O[1],M=Object(o.useState)(a.Minimax),S=Object(l.a)(M,2),V=S[0],k=S[1],G=Object(o.useState)(3),y=Object(l.a)(G,2),I=y[0],_=y[1],w=Object(o.useState)(.5),F=Object(l.a)(w,2),L=F[0],C=F[1],B=Object(o.useState)(1e4),P=Object(l.a)(B,2),q=P[0],H=P[1];return Object(o.useEffect)((function(){t({estrategiaA:n,nivelA:f,qRateA:v,estrategiaB:V,nivelB:I,qRateB:L})}),[n,V,f,I,v,L]),Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)("h1",{children:"Jugador amarillo"}),Object(E.jsxs)(u.a,{children:[Object(E.jsxs)(h.a,{children:[Object(E.jsxs)(b.a,{children:[Object(E.jsx)(h.a,{children:Object(E.jsxs)(u.a.Group,{className:"mb-3",children:[Object(E.jsx)(u.a.Label,{children:"Estrategia"}),Object(E.jsxs)(u.a.Select,{value:n,onChange:function(e){return r(parseInt(e.currentTarget.value))},children:[Object(E.jsx)("option",{value:a.Minimax,children:"Minimax"}),Object(E.jsx)("option",{value:a.Alfabeta,children:"Poda Alfa-beta"}),Object(E.jsx)("option",{value:a.RLAgent,children:"Agente RL"})]})]})}),Object(E.jsx)(h.a,{children:Object(E.jsxs)(u.a.Group,{className:"mb-3",children:[Object(E.jsx)(u.a.Label,{children:"N Entrenamiento (Solo para RL)"}),Object(E.jsx)(u.a.Control,{value:N,type:"number",disabled:n!==a.RLAgent,onChange:function(e){return T(parseInt(e.currentTarget.value))}})]})})]}),Object(E.jsxs)(b.a,{children:[Object(E.jsx)(h.a,{children:Object(E.jsxs)(u.a.Group,{className:"mb-3",children:[Object(E.jsx)(u.a.Label,{children:"Nivel de b\xfasqueda"}),Object(E.jsx)(u.a.Control,{value:f,type:"number",onChange:function(e){return d(parseInt(e.currentTarget.value))}})]})}),Object(E.jsx)(h.a,{children:Object(E.jsxs)(u.a.Group,{className:"mb-3",children:[Object(E.jsx)(u.a.Label,{children:"Q Rate (Solo para RL)"}),Object(E.jsx)(u.a.Control,{value:v,type:"number",max:1,disabled:n!==a.RLAgent,onChange:function(e){return R(parseFloat(e.currentTarget.value))}})]})})]})]}),Object(E.jsx)(h.a,{children:Object(E.jsxs)(b.a,{children:[Object(E.jsx)(g.a,{variant:"secondary",onClick:function(){x.Agente=new x(N),x.Agente.qRate=v;for(var e=0;e<N;e++)x.Agente.reset(!0),x.Agente.updateAlpha(e),x.Agente.jugarVsRandom()},disabled:n!==a.RLAgent,className:"ms-3",children:"Entrenar RL"}),Object(E.jsx)(g.a,{variant:"secondary",onClick:function(){x.Agente=new x(N),x.Agente.qRate=v;for(var e=0;e<N;e++)x.Agente.reset(!0),x.Agente.updateAlpha(e),x.Agente.jugarVsMinimax(V,I)},disabled:n!==a.RLAgent||n===a.RLAgent&&V===a.RLAgent,className:"ms-3",children:"Entrenar RL con Minimax"})]})})]}),Object(E.jsx)("h1",{children:"Jugador rojo"}),Object(E.jsxs)(u.a,{children:[Object(E.jsxs)(h.a,{children:[Object(E.jsxs)(b.a,{children:[Object(E.jsx)(h.a,{children:Object(E.jsxs)(u.a.Group,{className:"mb-3",children:[Object(E.jsx)(u.a.Label,{children:"Estrategia"}),Object(E.jsxs)(u.a.Select,{value:V,onChange:function(e){return k(parseInt(e.currentTarget.value))},children:[Object(E.jsx)("option",{value:a.Minimax,children:"Minimax"}),Object(E.jsx)("option",{value:a.Alfabeta,children:"Poda Alfa-beta"}),Object(E.jsx)("option",{value:a.RLAgent,children:"Agente RL"})]})]})}),Object(E.jsx)(h.a,{children:Object(E.jsxs)(u.a.Group,{className:"mb-3",children:[Object(E.jsx)(u.a.Label,{children:"N Entrenamiento (Solo para RL)"}),Object(E.jsx)(u.a.Control,{value:q,type:"number",disabled:V!==a.RLAgent,onChange:function(e){return H(parseInt(e.currentTarget.value))}})]})})]}),Object(E.jsxs)(b.a,{children:[Object(E.jsx)(h.a,{children:Object(E.jsxs)(u.a.Group,{className:"mb-3",children:[Object(E.jsx)(u.a.Label,{children:"Nivel de b\xfasqueda"}),Object(E.jsx)(u.a.Control,{value:I,type:"number",onChange:function(e){return _(parseInt(e.currentTarget.value))}})]})}),Object(E.jsx)(h.a,{children:Object(E.jsxs)(u.a.Group,{className:"mb-3",children:[Object(E.jsx)(u.a.Label,{children:"Q Rate (Solo para RL)"}),Object(E.jsx)(u.a.Control,{value:L,type:"number",max:1,disabled:V!==a.RLAgent,onChange:function(e){return C(parseFloat(e.currentTarget.value))}})]})})]})]}),Object(E.jsx)(h.a,{children:Object(E.jsxs)(b.a,{children:[Object(E.jsx)(g.a,{variant:"secondary",onClick:function(){x.AgenteB=new x(q),x.AgenteB.qRate=L;for(var e=0;e<q;e++)x.AgenteB.reset(!0),x.AgenteB.updateAlpha(e),x.AgenteB.jugarVsRandom()},disabled:V!==a.RLAgent,className:"ms-3",children:"Entrenar RL"}),Object(E.jsx)(g.a,{variant:"secondary",onClick:function(){x.AgenteB=new x(q),x.AgenteB.qRate=L;for(var e=0;e<q;e++)x.AgenteB.reset(!0),x.AgenteB.updateAlpha(e),x.AgenteB.jugarVsMinimax(n,f)},disabled:V!==a.RLAgent||n===a.RLAgent&&V===a.RLAgent,className:"ms-3",children:"Entrenar RL con Minimax"})]})})]})]})},T=i(15);!function(e){e[e.SinSeleccionar=0]="SinSeleccionar",e[e.Humano=1]="Humano",e[e.Estrategia=2]="Estrategia",e[e.CPU=3]="CPU"}(O||(O={}));var M=function e(t,i,a,o){Object(d.a)(this,e),this.n=void 0,this.algoritmo=void 0,this.tiempo=void 0,this.nodos_expandidos=void 0,this.n=t,this.algoritmo=i,this.tiempo=a,this.nodos_expandidos=o},S=function(e,t,i,o){var s,n,r=new v;if(r.posiciones=JSON.parse(JSON.stringify(e.posiciones)),o===O.Humano||o===O.Estrategia||i===j.Amarillo)switch(n=t.estrategiaA,t.estrategiaA){case a.Minimax:s=new R(t.nivelA);break;case a.Alfabeta:s=new A(t.nivelA);break;case a.RLAgent:(s=x.Agente).reset(!1);break;default:s=new R(t.nivelA)}else switch(n=t.estrategiaB,t.estrategiaB){case a.Minimax:s=new R(t.nivelB);break;case a.Alfabeta:s=new A(t.nivelB);break;case a.RLAgent:(s=x.AgenteB).reset(!1);break;default:s=new R(t.nivelB)}s.tablero=r;var l=performance.now();s.jugarElitista(i);var c=performance.now(),h=new M(s.n,n,c-l,s.expansiones);return[s.tablero,h]},V=function(e){var t=e.fichaValor;return Object(E.jsx)("div",{className:"Agujero",children:Object(E.jsx)("div",{className:j[t]})})},k=function(e){var t=e.handleClick,i=e.agujeros;return Object(E.jsx)("div",{className:"Columna",onClick:function(){return t()},children:Object(T.a)(Array(i.length)).map((function(e,t){return Object(E.jsx)(V,{fichaValor:i[t]},t)})).reverse()})},G=function(e){var t=e.parametros,i=e.grabarResultado,a=j.Amarillo,s=j.Rojo,n=Object(o.useState)(new v),r=Object(l.a)(n,2),c=r[0],h=r[1],u=Object(o.useState)(j.Rojo),b=Object(l.a)(u,2),g=b[0],d=b[1],p=Object(o.useState)(O.SinSeleccionar),m=Object(l.a)(p,2),R=m[0],A=m[1],x=Object(o.useState)(""),N=Object(l.a)(x,2),M=N[0],V=N[1],G=function(e){A(e),h(new v),d(j.Rojo)},y=Object(T.a)(Array(c.posiciones[0].length)).map((function(e,t){return Object(E.jsx)(k,{handleClick:function(){return function(e){if(c.verificarColumnaLibre(e)&&c.calcularResultado()===f.SinGanador){var t=new v;t.posiciones=JSON.parse(JSON.stringify(c.posiciones)),t.tirarFicha(e,g),h(t),d(g===j.Rojo?j.Amarillo:j.Rojo)}else console.log("Movimiento invalido")}(t)},agujeros:c.posiciones.map((function(e){return e[t]}))},t)})),I=""!==M?"mensajeGanador aparecer":"mensajeGanador";return Object(o.useEffect)((function(){switch(c.calcularResultado()){case f.Empate:V("ninguno");break;case f.GanadorRojo:V("Rojo");break;case f.GanadorAmarillo:V("Amarillo");break;case f.SinGanador:if(R===O.Estrategia&&g===a){var e=S(c,t,g,R),o=Object(l.a)(e,2),n=o[0],r=o[1];h(n),d(s),i(r)}if(R===O.CPU)if(g===a){var u=S(c,t,g,R),b=Object(l.a)(u,2),j=b[0],p=b[1];h(j),d(s),i(p)}else{var m=S(c,t,g,R),v=Object(l.a)(m,2),A=v[0],x=v[1];h(A),d(a),i(x)}}}),[g,c]),Object(E.jsxs)("div",{className:"TableroGrafico",children:[R!==O.SinSeleccionar&&Object(E.jsx)("div",{className:"Tablero",children:y}),R===O.SinSeleccionar&&Object(E.jsxs)("div",{children:[Object(E.jsx)("button",{className:"btn btn-primary mx-3",onClick:function(){return G(O.Humano)},children:"Jugar Humano"}),Object(E.jsx)("button",{className:"btn btn-primary mx-3",onClick:function(){return G(O.Estrategia)},children:"Jugar Estrategia"}),Object(E.jsx)("button",{className:"btn btn-primary mx-3",onClick:function(){return G(O.CPU)},children:"Estrategia contra Estrategia"})]}),Object(E.jsxs)("div",{className:I,children:["Gana ",M,"!"]})]})},y=function e(){Object(d.a)(this,e),this.estrategiaA=a.Minimax,this.nivelA=3,this.qRateA=.5,this.estrategiaB=a.Minimax,this.nivelB=3,this.qRateB=.5},I=i(42),_=function(e){var t=e.resultados;return Object(E.jsxs)(I.a,{striped:!0,bordered:!0,hover:!0,variant:"dark",children:[Object(E.jsx)("thead",{children:Object(E.jsxs)("tr",{children:[Object(E.jsx)("th",{children:"N\xba Jugada"}),Object(E.jsx)("th",{children:"N"}),Object(E.jsx)("th",{children:"Algoritmo"}),Object(E.jsx)("th",{children:"Tiempo de Ejecuci\xf3n (ms)"}),Object(E.jsx)("th",{children:"Nodos Expandidos"})]})}),Object(E.jsx)("tbody",{children:t.map((function(e,t){return Object(E.jsxs)("tr",{children:[Object(E.jsx)("td",{children:t+1}),Object(E.jsx)("td",{children:e.n}),Object(E.jsx)("td",{children:a[e.algoritmo]}),Object(E.jsx)("td",{children:e.tiempo}),Object(E.jsx)("td",{children:e.nodos_expandidos})]},t)}))})]})},w=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:j.Amarillo,o=0,s=0,n=0,r=0,l=j.Rojo,c=j.Amarillo,h=0;h<e;h++){var u=new v,b=u.calcularResultado(),g=a,d=void 0,p=performance.now();do{(d=g===l?new R(t):new A(i)).tablero=u,d.jugarElitista(g),u=d.tablero,g=g===j.Rojo?j.Amarillo:j.Rojo,b=u.calcularResultado()}while(b===f.SinGanador);var x=performance.now();switch(r+=x-p,b){case m(l):o++;break;case m(c):s++;break;default:n++}}console.log(">>>>>>>>>>>>>>> Minimax(".concat(t,") vs Alfabeta(").concat(i,")")),console.log("Minimax W/T: "+o/e),console.log("Alfabeta W/T: "+s/e),console.log("D/T: "+n/e),console.log("Tiempo Promedio: "+r/e)},F=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1e4,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[.1,.2,.3,.4,.5,.6,.7,.8,.9],s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:2,n=arguments.length>5&&void 0!==arguments[5]?arguments[5]:a.Minimax,r=0;r<o.length;r++){for(var l=0,c=0,h=0,u=0,b=0;b<i;b++){var g=new x(e);g.qRate=o[r];for(var j=0;j<g.n;j++)g.reset(!0),g.updateAlpha(j),g.selfPlay();if(0===t)break;console.log(">>>>>>>>>>>>>>> AFTER TRAINING ");for(var f=0,d=0,p=0,v=0,R=2-g.jugadorAgente+1,A=0;A<t;A++){var O=performance.now();g.reset(!1),g.jugarVsMinimax(s,n);var E=performance.now();v+=E-O,g.gameResult===m(g.jugadorAgente)?f++:g.gameResult===R?d++:p++}l+=f/t,c+=d/t,h+=p/t,u+=v/t}console.log(">>>>>>>>>>>>>>> RATIO AVG, Q RATE: "+o[r]),console.log("Ratio Avg RL W/T: "+l/i),console.log("Ratio Avg MIN/AB W/T: "+c/i),console.log("Ratio Avg D/T: "+h/i),console.log("Ratio Avg Tiempo: "+u/i)}},L=function(){return Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)("button",{onClick:function(){return function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1e4,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:100,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:10,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[.1,.2,.3,.4,.5,.6,.7,.8,.9],s=0;s<o.length;s++){for(var n=0,r=0,l=0,c=0,h=0;h<a;h++){var u=new x(e);u.qRate=o[s];for(var b=0;b<u.n;b++)u.reset(!0),u.updateAlpha(b),u.selfPlay();u.n=t,u.alpha=.7;for(var g=0;g<u.n;g++)u.reset(!0),u.jugarVsHumano();if(0===i)break;console.log(">>>>>>>>>>>>>>> AFTER TRAINING ");for(var j=0,f=0,d=0,p=2-u.jugadorAgente+1,v=0,R=0;R<i;R++){var A=performance.now();u.reset(!1),u.jugarVsRandom(),v+=performance.now()-A,u.gameResult===m(u.jugadorAgente)?j++:u.gameResult===p?f++:d++}n+=j/i,r+=f/i,l+=d/i,c+=v/i}console.log(">>>>>>>>>>>>>>> RATIO AVG, Q RATE: "+o[s]),console.log("Ratio Avg W/T: "+n/a),console.log("Ratio Avg L/T: "+r/a),console.log("Ratio Avg D/T: "+l/a),console.log("Ratio Avg Tiempo: "+c/a)}}()},children:"RLvsRL"}),Object(E.jsx)("button",{onClick:function(){return w(100,3,3)},children:"Minimax(3)vsAlfaBeta(3)"}),Object(E.jsx)("button",{onClick:function(){return w(100,4,2)},children:"Minimax(4)vsAlfaBeta(2)"}),Object(E.jsx)("button",{onClick:function(){return w(100,2,4)},children:"Minimax(2)vsAlfaBeta(4)"}),Object(E.jsx)("button",{onClick:function(){return F()},children:"Minimax(2)vsRL"}),Object(E.jsx)("button",{onClick:function(){return F(1e4,100,10,[.1,.2,.3,.4,.5,.6,.7,.8,.9],2,a.Alfabeta)},children:"Alfabeta(2)vsRL"})]})},C=["Minimax","RLAgent","Banana"];var B=function(){var e=Object(o.useState)(new y),t=Object(l.a)(e,2),i=t[0],a=t[1],s=Object(o.useState)([]),n=Object(l.a)(s,2),r=n[0],u=n[1];return Object(E.jsx)("div",{className:"App p-3",children:Object(E.jsxs)(c.a,{children:[Object(E.jsx)("h3",{className:"text-start h2 mb-3",children:"Connect-4"}),Object(E.jsx)("hr",{}),Object(E.jsx)("h4",{children:"Par\xe1metros del problema"}),Object(E.jsx)(h.a,{className:"mt-3",children:Object(E.jsx)(N,{onElegirEstrategia:function(e){a(e)},onLimpiarTablero:function(){},algoritmos:C})}),Object(E.jsx)("hr",{}),Object(E.jsx)("h4",{children:"Tablero"}),Object(E.jsx)(h.a,{className:"mt-3",children:Object(E.jsx)(G,{parametros:i,grabarResultado:function(e){u((function(t){var i=JSON.parse(JSON.stringify(t));return i.push(e),i}))}})}),Object(E.jsx)("hr",{}),Object(E.jsx)("h4",{children:"Resultados"}),Object(E.jsx)(h.a,{className:"mt-3",children:Object(E.jsx)(_,{resultados:r})}),Object(E.jsx)("hr",{}),Object(E.jsx)("h4",{children:"Experimentos"}),Object(E.jsx)(h.a,{className:"mt-3",children:Object(E.jsx)(L,{})})]})})},P=function(e){e&&e instanceof Function&&i.e(3).then(i.bind(null,46)).then((function(t){var i=t.getCLS,a=t.getFID,o=t.getFCP,s=t.getLCP,n=t.getTTFB;i(e),a(e),o(e),s(e),n(e)}))};r.a.render(Object(E.jsx)(s.a.StrictMode,{children:Object(E.jsx)(B,{})}),document.getElementById("root")),P()}},[[40,1,2]]]);
//# sourceMappingURL=main.11926f96.chunk.js.map